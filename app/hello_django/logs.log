Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=d5a738571c05a23be8ad1c7fb31234285d22f492c9c4504e9dd96d08b7c7162f HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=d5a738571c05a23be8ad1c7fb31234285d22f492c9c4504e9dd96d08b7c7162f HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/d5a738571c05a23be8ad1c7fb31234285d22f492c9c4504e9dd96d08b7c7162f/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "hello_django_usertest" does not exist
LINE 1: INSERT INTO "hello_django_usertest" ("login", "first_name", ...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 61, in exchange_code_for_access_token
    u.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "hello_django_usertest" does not exist
LINE 1: INSERT INTO "hello_django_usertest" ("login", "first_name", ...
                    ^

"GET /exchange_code_for_access_token/d5a738571c05a23be8ad1c7fb31234285d22f492c9c4504e9dd96d08b7c7162f/ HTTP/1.1" 500 146898
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=ef5c5eb6a1a618adac33907cb716b6b01a03f6bce444bbf54766cdc2ca1b96c1 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=ef5c5eb6a1a618adac33907cb716b6b01a03f6bce444bbf54766cdc2ca1b96c1 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/ef5c5eb6a1a618adac33907cb716b6b01a03f6bce444bbf54766cdc2ca1b96c1/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 63, in exchange_code_for_access_token
    logger.critical("login : %s", h.login)
                                  ^
NameError: name 'h' is not defined
"GET /exchange_code_for_access_token/ef5c5eb6a1a618adac33907cb716b6b01a03f6bce444bbf54766cdc2ca1b96c1/ HTTP/1.1" 500 69140
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /exchange_code_for_access_token/ef5c5eb6a1a618adac33907cb716b6b01a03f6bce444bbf54766cdc2ca1b96c1/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=eb5d04b9105a2988c81b2961cd3082ee1dd3a20d3733eedb6a29ccf34fc998e6 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=eb5d04b9105a2988c81b2961cd3082ee1dd3a20d3733eedb6a29ccf34fc998e6 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/eb5d04b9105a2988c81b2961cd3082ee1dd3a20d3733eedb6a29ccf34fc998e6/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=cb4e298a0ca2817a3e041f07d6e29cb5473fed63da561eb9d3bab7cc77834bc2 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=cb4e298a0ca2817a3e041f07d6e29cb5473fed63da561eb9d3bab7cc77834bc2 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/cb4e298a0ca2817a3e041f07d6e29cb5473fed63da561eb9d3bab7cc77834bc2/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=006d15c4ba0b2059fd105f59b38a98d75646fd48d46bf871372fcafb7f283b4e HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=006d15c4ba0b2059fd105f59b38a98d75646fd48d46bf871372fcafb7f283b4e HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/006d15c4ba0b2059fd105f59b38a98d75646fd48d46bf871372fcafb7f283b4e/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=b2f9fbb79f4e00062b741cc35f909b2761c4f8a6d9901a6d2496122f2c094c19 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=b2f9fbb79f4e00062b741cc35f909b2761c4f8a6d9901a6d2496122f2c094c19 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/b2f9fbb79f4e00062b741cc35f909b2761c4f8a6d9901a6d2496122f2c094c19/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=8d30c4b696af2e3017d7914a8e54a6dca82816043b6be319b1dc85ab7a718646 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=8d30c4b696af2e3017d7914a8e54a6dca82816043b6be319b1dc85ab7a718646 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/8d30c4b696af2e3017d7914a8e54a6dca82816043b6be319b1dc85ab7a718646/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET / HTTP/1.1" 200 4153
Not Found: /styles.css
Not Found: /organisation.js
Not Found: /images/luffy.png
"GET /styles.css HTTP/1.1" 404 2843
"GET /images/luffy.png HTTP/1.1" 404 2861
"GET /organisation.js HTTP/1.1" 404 2858
Not Found: /images/not connected.svg
"GET /images/not%20connected.svg HTTP/1.1" 404 2887
"GET / HTTP/1.0" 200 4153
Not Found: /styles.css
"GET /styles.css HTTP/1.0" 404 2838
Not Found: /images/luffy.png
Not Found: /organisation.js
"GET /organisation.js HTTP/1.0" 404 2853
"GET /images/luffy.png HTTP/1.0" 404 2856
Not Found: /images/not connected.svg
"GET /images/not%20connected.svg HTTP/1.0" 404 2882
"GET /admin HTTP/1.0" 301 0
"GET /admin/ HTTP/1.0" 302 0
"GET /admin/login/?next=/admin/ HTTP/1.0" 200 4181
"GET /admin/ HTTP/1.0" 302 0
"GET /admin/login/?next=/admin/ HTTP/1.0" 200 4181
"POST /admin/login/?next=/admin/ HTTP/1.0" 200 4342
"POST /admin/login/?next=/admin/ HTTP/1.0" 200 4349
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=2f24c448980693f03effcd5fc9fada21255b995f63732c6ea5af4e117894d25b HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=2f24c448980693f03effcd5fc9fada21255b995f63732c6ea5af4e117894d25b HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/2f24c448980693f03effcd5fc9fada21255b995f63732c6ea5af4e117894d25b/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=d1fc40e2685cf73ee1f27b942615fcc7c0459dda10c94a6fb0def5a00acb4e0f HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=d1fc40e2685cf73ee1f27b942615fcc7c0459dda10c94a6fb0def5a00acb4e0f HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/d1fc40e2685cf73ee1f27b942615fcc7c0459dda10c94a6fb0def5a00acb4e0f/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=6142d42f96d65514327f4405fb0783e659afe1ab22036bee3f5bf1ee03c47aaa HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=6142d42f96d65514327f4405fb0783e659afe1ab22036bee3f5bf1ee03c47aaa HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/6142d42f96d65514327f4405fb0783e659afe1ab22036bee3f5bf1ee03c47aaa/ HTTP/1.1" 302 0
"GET /double_auth HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=d165953470ce8268ec8997ffdc00eee5757c6221b04f53ddf573c8d17bc920ae HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=d165953470ce8268ec8997ffdc00eee5757c6221b04f53ddf573c8d17bc920ae HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/d165953470ce8268ec8997ffdc00eee5757c6221b04f53ddf573c8d17bc920ae/ HTTP/1.1" 302 0
"GET /double_auth HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=a8e1837e4d9981bb23c1db3491dcc50d36b2ac1f1b218cf5c8af609f61260b6c HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=a8e1837e4d9981bb23c1db3491dcc50d36b2ac1f1b218cf5c8af609f61260b6c HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/a8e1837e4d9981bb23c1db3491dcc50d36b2ac1f1b218cf5c8af609f61260b6c/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 62, in exchange_code_for_access_token
    if (u.status == 'connected'):
        ^
UnboundLocalError: cannot access local variable 'u' where it is not associated with a value
"GET /exchange_code_for_access_token/a8e1837e4d9981bb23c1db3491dcc50d36b2ac1f1b218cf5c8af609f61260b6c/ HTTP/1.1" 500 69993
"GET /exchange_code_for_access_token/a8e1837e4d9981bb23c1db3491dcc50d36b2ac1f1b218cf5c8af609f61260b6c/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
"GET /exchange_code_for_access_token/a8e1837e4d9981bb23c1db3491dcc50d36b2ac1f1b218cf5c8af609f61260b6c/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=2d69c5d67ff8af1c9717a93c606c10759d5ab11930fac2e643fa0d787268a3ab HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=2d69c5d67ff8af1c9717a93c606c10759d5ab11930fac2e643fa0d787268a3ab HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/2d69c5d67ff8af1c9717a93c606c10759d5ab11930fac2e643fa0d787268a3ab/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 62, in exchange_code_for_access_token
    if (u.status == 'connected'):
        ^
UnboundLocalError: cannot access local variable 'u' where it is not associated with a value
"GET /exchange_code_for_access_token/2d69c5d67ff8af1c9717a93c606c10759d5ab11930fac2e643fa0d787268a3ab/ HTTP/1.1" 500 69960
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=02b5cde5e3258654e1a84fa7a0a963b321f0f1ff9dd827427210a191c3f4ea6d HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=02b5cde5e3258654e1a84fa7a0a963b321f0f1ff9dd827427210a191c3f4ea6d HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/02b5cde5e3258654e1a84fa7a0a963b321f0f1ff9dd827427210a191c3f4ea6d/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=a6976de610470a66d4bf5827964c4db35a3a1b5a8fcc18ff1eb3bb2955adcfaf HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=a6976de610470a66d4bf5827964c4db35a3a1b5a8fcc18ff1eb3bb2955adcfaf HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/a6976de610470a66d4bf5827964c4db35a3a1b5a8fcc18ff1eb3bb2955adcfaf/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=4894d22be8a234f468ffbf59f742f8b41771b7d6ead5bec2bd82abf0364e3983 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=4894d22be8a234f468ffbf59f742f8b41771b7d6ead5bec2bd82abf0364e3983 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/4894d22be8a234f468ffbf59f742f8b41771b7d6ead5bec2bd82abf0364e3983/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=90a838dac473eacbf2f64eddd79a6f87bdf463fc6fe1d8a15505e8c3dac2d694 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=90a838dac473eacbf2f64eddd79a6f87bdf463fc6fe1d8a15505e8c3dac2d694 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/90a838dac473eacbf2f64eddd79a6f87bdf463fc6fe1d8a15505e8c3dac2d694/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=90ff65094b5e9a59e5ed51ed0571d4c1bed7c65880c55a7040bb5a23b5d8ea8b HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=90ff65094b5e9a59e5ed51ed0571d4c1bed7c65880c55a7040bb5a23b5d8ea8b HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/90ff65094b5e9a59e5ed51ed0571d4c1bed7c65880c55a7040bb5a23b5d8ea8b/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=81c88f0bf2131a0fd6617101083ea9850479dd92412d423a0ac5c2186c02fd77 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=81c88f0bf2131a0fd6617101083ea9850479dd92412d423a0ac5c2186c02fd77 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/81c88f0bf2131a0fd6617101083ea9850479dd92412d423a0ac5c2186c02fd77/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=884daf0a5bc8ac713ca7ffbb3e2833220fada5bc10a0a618779eb44d368ffe9f HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=884daf0a5bc8ac713ca7ffbb3e2833220fada5bc10a0a618779eb44d368ffe9f HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/884daf0a5bc8ac713ca7ffbb3e2833220fada5bc10a0a618779eb44d368ffe9f/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=439dd67d644d9ee5bba630274bc21e82037a0d387d56674812dd79f85c448607 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=439dd67d644d9ee5bba630274bc21e82037a0d387d56674812dd79f85c448607 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/439dd67d644d9ee5bba630274bc21e82037a0d387d56674812dd79f85c448607/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=4b4c35194e0d4f75a1a5f0b7942017a147b151f028c6853b8bf944575d12ea01 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=4b4c35194e0d4f75a1a5f0b7942017a147b151f028c6853b8bf944575d12ea01 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/4b4c35194e0d4f75a1a5f0b7942017a147b151f028c6853b8bf944575d12ea01/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=903fea5d9f4968cda3a4ec1183b372d7faff92f26f98f833c81fb8232d3020af HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=903fea5d9f4968cda3a4ec1183b372d7faff92f26f98f833c81fb8232d3020af HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/903fea5d9f4968cda3a4ec1183b372d7faff92f26f98f833c81fb8232d3020af/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=8c915da9f7e13b198f877b9341f713edef70ec27de7b4942bbc86aeaaeb0dc32 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=8c915da9f7e13b198f877b9341f713edef70ec27de7b4942bbc86aeaaeb0dc32 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/8c915da9f7e13b198f877b9341f713edef70ec27de7b4942bbc86aeaaeb0dc32/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=12d75f1de0ca5d7243bec20f3bd79d0009fc0c885797df93154e569a2b262377 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=12d75f1de0ca5d7243bec20f3bd79d0009fc0c885797df93154e569a2b262377 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/12d75f1de0ca5d7243bec20f3bd79d0009fc0c885797df93154e569a2b262377/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "hello_django_usertest" does not exist
LINE 1: INSERT INTO "hello_django_usertest" ("password", "last_login...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 58, in exchange_code_for_access_token
    u.save()
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "hello_django_usertest" does not exist
LINE 1: INSERT INTO "hello_django_usertest" ("password", "last_login...
                    ^

"GET /exchange_code_for_access_token/12d75f1de0ca5d7243bec20f3bd79d0009fc0c885797df93154e569a2b262377/ HTTP/1.1" 500 153046
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=00a5290154082749f0d53d05c3addfb46cdbc1088393cf0d230760b9eaf7d8c4 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=00a5290154082749f0d53d05c3addfb46cdbc1088393cf0d230760b9eaf7d8c4 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/00a5290154082749f0d53d05c3addfb46cdbc1088393cf0d230760b9eaf7d8c4/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET / HTTP/1.0" 200 4153
Not Found: /styles.css
"GET /styles.css HTTP/1.0" 404 2969
Not Found: /images/luffy.png
Not Found: /organisation.js
"GET /images/luffy.png HTTP/1.0" 404 2987
"GET /organisation.js HTTP/1.0" 404 2984
Not Found: /images/not connected.svg
"GET /images/not%20connected.svg HTTP/1.0" 404 3013
Not Found: /images/luffy.png
Not Found: /images/not connected.svg
"GET /images/luffy.png HTTP/1.0" 404 2987
"GET /images/not%20connected.svg HTTP/1.0" 404 3013
"GET /home HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=c0da0f9b6805f29a52a8f1a7e51f9531457e2d8e9300ce786b70e0d6511713c0 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=c0da0f9b6805f29a52a8f1a7e51f9531457e2d8e9300ce786b70e0d6511713c0 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/c0da0f9b6805f29a52a8f1a7e51f9531457e2d8e9300ce786b70e0d6511713c0/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
"GET /home HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=de18a03876a9750ca79d8f9dcef83b8a95fa9b4d89ceec90764920f1c0cea571 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=de18a03876a9750ca79d8f9dcef83b8a95fa9b4d89ceec90764920f1c0cea571 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/de18a03876a9750ca79d8f9dcef83b8a95fa9b4d89ceec90764920f1c0cea571/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET / HTTP/1.0" 200 4153
Not Found: /styles.css
"GET /styles.css HTTP/1.0" 404 2969
Not Found: /images/luffy.png
"GET /images/luffy.png HTTP/1.0" 404 2987
Not Found: /organisation.js
"GET /organisation.js HTTP/1.0" 404 2984
Not Found: /images/not connected.svg
"GET /images/not%20connected.svg HTTP/1.0" 404 3013
Not Found: /images/not connected.svg
Not Found: /images/luffy.png
"GET /images/luffy.png HTTP/1.0" 404 2987
"GET /images/not%20connected.svg HTTP/1.0" 404 3013
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=86457ae8d5e31f8753cd6ef360fc77b7524803e1a53dad9ed50158fe4171b469 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=86457ae8d5e31f8753cd6ef360fc77b7524803e1a53dad9ed50158fe4171b469 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/86457ae8d5e31f8753cd6ef360fc77b7524803e1a53dad9ed50158fe4171b469/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 60, in exchange_code_for_access_token
    serializer.save()
  File "/usr/local/lib/python3.11/site-packages/rest_framework/serializers.py", line 180, in save
    assert hasattr(self, '_errors'), (
AssertionError: You must call `.is_valid()` before calling `.save()`.
"GET /exchange_code_for_access_token/86457ae8d5e31f8753cd6ef360fc77b7524803e1a53dad9ed50158fe4171b469/ HTTP/1.1" 500 73475
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=40358c79a5918e03d057403ba83f68aa703501a4469232d9d98f2c4190e8a105 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=40358c79a5918e03d057403ba83f68aa703501a4469232d9d98f2c4190e8a105 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/40358c79a5918e03d057403ba83f68aa703501a4469232d9d98f2c4190e8a105/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=4a444af195622be1bf7005f287507d06714cc41ee3b8178da2652dec2f501e1c HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=4a444af195622be1bf7005f287507d06714cc41ee3b8178da2652dec2f501e1c HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/4a444af195622be1bf7005f287507d06714cc41ee3b8178da2652dec2f501e1c/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 61, in exchange_code_for_access_token
    serializer.save()
  File "/usr/local/lib/python3.11/site-packages/rest_framework/serializers.py", line 184, in save
    assert not self.errors, (
AssertionError: You cannot call `.save()` on a serializer with invalid data.
"GET /exchange_code_for_access_token/4a444af195622be1bf7005f287507d06714cc41ee3b8178da2652dec2f501e1c/ HTTP/1.1" 500 73567
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=de5498df75164bb0bd5939523acd7f60c061f77f462b2f9746f6b65f42a96c9c HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=de5498df75164bb0bd5939523acd7f60c061f77f462b2f9746f6b65f42a96c9c HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/de5498df75164bb0bd5939523acd7f60c061f77f462b2f9746f6b65f42a96c9c/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=96667a9aab95deaab90be041b9392194c587df836192eb1294b232e6b2a7b3ea HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=96667a9aab95deaab90be041b9392194c587df836192eb1294b232e6b2a7b3ea HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/96667a9aab95deaab90be041b9392194c587df836192eb1294b232e6b2a7b3ea/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 60, in exchange_code_for_access_token
    serializer.is_valid()
  File "/usr/local/lib/python3.11/site-packages/rest_framework/serializers.py", line 220, in is_valid
    assert hasattr(self, 'initial_data'), (
AssertionError: Cannot call `.is_valid()` as no `data=` keyword argument was passed when instantiating the serializer instance.
"GET /exchange_code_for_access_token/96667a9aab95deaab90be041b9392194c587df836192eb1294b232e6b2a7b3ea/ HTTP/1.1" 500 73600
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=c163051cb602acd69efe52e644fdde02b21a978a8a21f25efdf6bacda6368004 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=c163051cb602acd69efe52e644fdde02b21a978a8a21f25efdf6bacda6368004 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/c163051cb602acd69efe52e644fdde02b21a978a8a21f25efdf6bacda6368004/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 58, in exchange_code_for_access_token
    serializer = UserSerializer(data={user.username, user.first_name, user.last_name, user_data.get('image', '')})
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: unhashable type: 'dict'
"GET /exchange_code_for_access_token/c163051cb602acd69efe52e644fdde02b21a978a8a21f25efdf6bacda6368004/ HTTP/1.1" 500 69366
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=68d726c0f8a30b2a542a3b209fd358909c011112dc5bf1f2fb02b12ad12186d0 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=68d726c0f8a30b2a542a3b209fd358909c011112dc5bf1f2fb02b12ad12186d0 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/68d726c0f8a30b2a542a3b209fd358909c011112dc5bf1f2fb02b12ad12186d0/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 67, in exchange_code_for_access_token
    serializer.save()
  File "/usr/local/lib/python3.11/site-packages/rest_framework/serializers.py", line 212, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rest_framework/serializers.py", line 177, in create
    raise NotImplementedError('`create()` must be implemented.')
NotImplementedError: `create()` must be implemented.
"GET /exchange_code_for_access_token/68d726c0f8a30b2a542a3b209fd358909c011112dc5bf1f2fb02b12ad12186d0/ HTTP/1.1" 500 80682
/usr/src/app/hello_django/serializer.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/serializer.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/serializer.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=7e9b9ea7af52315e6fc0f5c9aae18bacc71b80390adfefd3f3774b94dbe2fa16 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=7e9b9ea7af52315e6fc0f5c9aae18bacc71b80390adfefd3f3774b94dbe2fa16 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/7e9b9ea7af52315e6fc0f5c9aae18bacc71b80390adfefd3f3774b94dbe2fa16/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 67, in exchange_code_for_access_token
    serializer.save()
  File "/usr/local/lib/python3.11/site-packages/rest_framework/serializers.py", line 212, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/serializer.py", line 11, in create
    return UserSerializer.objects.create(**validated_data)
           ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'UserSerializer' has no attribute 'objects'
"GET /exchange_code_for_access_token/7e9b9ea7af52315e6fc0f5c9aae18bacc71b80390adfefd3f3774b94dbe2fa16/ HTTP/1.1" 500 79650
/usr/src/app/hello_django/serializer.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/serializer.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/serializer.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/serializer.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=d7503dab0bbec7dbfd64fc58fa5ca7c844d251e1adc6f18ac3d076925e40588c HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=d7503dab0bbec7dbfd64fc58fa5ca7c844d251e1adc6f18ac3d076925e40588c HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/d7503dab0bbec7dbfd64fc58fa5ca7c844d251e1adc6f18ac3d076925e40588c/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "hello_django_usertest" does not exist
LINE 1: INSERT INTO "hello_django_usertest" ("password", "last_login...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 67, in exchange_code_for_access_token
    serializer.save()
  File "/usr/local/lib/python3.11/site-packages/rest_framework/serializers.py", line 212, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/serializer.py", line 11, in create
    user = usertest.objects.create(**validated_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 658, in create
    obj.save(force_insert=True, using=self.db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "hello_django_usertest" does not exist
LINE 1: INSERT INTO "hello_django_usertest" ("password", "last_login...
                    ^

"GET /exchange_code_for_access_token/d7503dab0bbec7dbfd64fc58fa5ca7c844d251e1adc6f18ac3d076925e40588c/ HTTP/1.1" 500 167376
Watching for file changes with StatReloader
"GET / HTTP/1.1" 200 4153
Not Found: /organisation.js
Not Found: /styles.css
"GET /organisation.js HTTP/1.1" 404 2989
"GET /styles.css HTTP/1.1" 404 2974
Not Found: /images/not connected.svg
Not Found: /images/luffy.png
"GET /images/not%20connected.svg HTTP/1.1" 404 3018
"GET /images/luffy.png HTTP/1.1" 404 2992
Not Found: /images/not connected.svg
Not Found: /images/luffy.png
"GET /images/not%20connected.svg HTTP/1.1" 404 3018
"GET /images/luffy.png HTTP/1.1" 404 2992
Not Found: /icon.ico
"GET /icon.ico HTTP/1.1" 404 2968
"GET /home HTTP/1.1" 200 273
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 2977
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=7ff8783b1b33b53f398742edd7b14079e17f16df8c6b017808c8cf73c1f464db HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=7ff8783b1b33b53f398742edd7b14079e17f16df8c6b017808c8cf73c1f464db HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/7ff8783b1b33b53f398742edd7b14079e17f16df8c6b017808c8cf73c1f464db/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
Not Found: /apple-touch-icon-precomposed.png
"GET /apple-touch-icon-precomposed.png HTTP/1.1" 404 3040
Not Found: /apple-touch-icon.png
"GET /apple-touch-icon.png HTTP/1.1" 404 3004
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 2977
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
/usr/src/app/hello_django/serializer.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=a5465ec1723917d78ce3dbfa84913cc7e070d2aa0092b667b613402a69156b1d HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=a5465ec1723917d78ce3dbfa84913cc7e070d2aa0092b667b613402a69156b1d HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/a5465ec1723917d78ce3dbfa84913cc7e070d2aa0092b667b613402a69156b1d/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
ValueError: invalid literal for int() with base 10: 'Lucas'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 59, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 990, in _save_table
    updated = self._do_update(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1033, in _do_update
    filtered = base_qs.filter(pk=pk_val)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 341, in get_prep_lookup
    return super().get_prep_lookup()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 85, in get_prep_lookup
    return self.lhs.output_field.get_prep_value(self.rhs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
ValueError: Field 'id' expected a number but got 'Lucas'.
"GET /exchange_code_for_access_token/a5465ec1723917d78ce3dbfa84913cc7e070d2aa0092b667b613402a69156b1d/ HTTP/1.1" 500 153516
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=129a27debbdb01231b20b3f4af478abc63ed5511214a97538ceaee76d40cbc59 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=129a27debbdb01231b20b3f4af478abc63ed5511214a97538ceaee76d40cbc59 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/129a27debbdb01231b20b3f4af478abc63ed5511214a97538ceaee76d40cbc59/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 59, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 981, in _save_table
    values = [
             ^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 985, in <listcomp>
    (getattr(self, f.attname) if raw else f.pre_save(self, False)),
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/files.py", line 315, in pre_save
    if file and not file._committed:
                    ^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute '_committed'
"GET /exchange_code_for_access_token/129a27debbdb01231b20b3f4af478abc63ed5511214a97538ceaee76d40cbc59/ HTTP/1.1" 500 95813
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=69c6fee61b02405fcd5c275c8041786be0ba246aff3744c38c414c2873558ee3 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=69c6fee61b02405fcd5c275c8041786be0ba246aff3744c38c414c2873558ee3 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/69c6fee61b02405fcd5c275c8041786be0ba246aff3744c38c414c2873558ee3/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 59, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 981, in _save_table
    values = [
             ^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 985, in <listcomp>
    (getattr(self, f.attname) if raw else f.pre_save(self, False)),
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/files.py", line 315, in pre_save
    if file and not file._committed:
                    ^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute '_committed'
"GET /exchange_code_for_access_token/69c6fee61b02405fcd5c275c8041786be0ba246aff3744c38c414c2873558ee3/ HTTP/1.1" 500 95792
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=5a41de32b7e4794212618281379f4dd28f8851943c92a5fa5a4d510320f8b54b HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=5a41de32b7e4794212618281379f4dd28f8851943c92a5fa5a4d510320f8b54b HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/5a41de32b7e4794212618281379f4dd28f8851943c92a5fa5a4d510320f8b54b/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=958d5eac0b71c96aab7ad9515b2e2421a9e298ddf92d6d4f62b6185d2d07b3ec HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=958d5eac0b71c96aab7ad9515b2e2421a9e298ddf92d6d4f62b6185d2d07b3ec HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/958d5eac0b71c96aab7ad9515b2e2421a9e298ddf92d6d4f62b6185d2d07b3ec/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "django_user_list" does not exist
LINE 1: UPDATE "django_user_list" SET "first_name" = 'Lucas', "last_...
               ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 59, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 990, in _save_table
    updated = self._do_update(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1054, in _do_update
    return filtered._update(values) > 0
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1231, in _update
    return query.get_compiler(self.db).execute_sql(CURSOR)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1984, in execute_sql
    cursor = super().execute_sql(result_type)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "django_user_list" does not exist
LINE 1: UPDATE "django_user_list" SET "first_name" = 'Lucas', "last_...
               ^

"GET /exchange_code_for_access_token/958d5eac0b71c96aab7ad9515b2e2421a9e298ddf92d6d4f62b6185d2d07b3ec/ HTTP/1.1" 500 148062
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=58f1135fda3cb965ac01d08bcf886c355c9348fd4b6c43cfd401487dfbd9a2d2 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=58f1135fda3cb965ac01d08bcf886c355c9348fd4b6c43cfd401487dfbd9a2d2 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/58f1135fda3cb965ac01d08bcf886c355c9348fd4b6c43cfd401487dfbd9a2d2/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 59, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 42, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.

"GET /exchange_code_for_access_token/58f1135fda3cb965ac01d08bcf886c355c9348fd4b6c43cfd401487dfbd9a2d2/ HTTP/1.1" 500 183121
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=829c76bffdd0ea3b42b0ab89b034eba52ad52b5ab6583ba60c1cd4f6be554575 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=829c76bffdd0ea3b42b0ab89b034eba52ad52b5ab6583ba60c1cd4f6be554575 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/829c76bffdd0ea3b42b0ab89b034eba52ad52b5ab6583ba60c1cd4f6be554575/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 59, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 42, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.

"GET /exchange_code_for_access_token/829c76bffdd0ea3b42b0ab89b034eba52ad52b5ab6583ba60c1cd4f6be554575/ HTTP/1.1" 500 183128
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=d248ed253c17dc379c470cfcd7050fa4812a4a970657f8c1a56f0be863e4741b HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=d248ed253c17dc379c470cfcd7050fa4812a4a970657f8c1a56f0be863e4741b HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/d248ed253c17dc379c470cfcd7050fa4812a4a970657f8c1a56f0be863e4741b/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 58, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 42, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.

"GET /exchange_code_for_access_token/d248ed253c17dc379c470cfcd7050fa4812a4a970657f8c1a56f0be863e4741b/ HTTP/1.1" 500 183182
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=2e1e9a4af73c9a34d0ba7b2ba47c618917891d103209aafebf1b3de36d442595 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=2e1e9a4af73c9a34d0ba7b2ba47c618917891d103209aafebf1b3de36d442595 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/2e1e9a4af73c9a34d0ba7b2ba47c618917891d103209aafebf1b3de36d442595/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 58, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 42, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.

"GET /exchange_code_for_access_token/2e1e9a4af73c9a34d0ba7b2ba47c618917891d103209aafebf1b3de36d442595/ HTTP/1.1" 500 183209
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=1900989a127c23f22b4d6ad33c0d1fc84a896c0b054522e771c77dc1bfea8603 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=1900989a127c23f22b4d6ad33c0d1fc84a896c0b054522e771c77dc1bfea8603 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/1900989a127c23f22b4d6ad33c0d1fc84a896c0b054522e771c77dc1bfea8603/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 58, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 42, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.

"GET /exchange_code_for_access_token/1900989a127c23f22b4d6ad33c0d1fc84a896c0b054522e771c77dc1bfea8603/ HTTP/1.1" 500 183205
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=613a3d3754a8319c0f770dfab17dfa3defb5b3a5a1874c66ac162ffa2bab2e5e HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=613a3d3754a8319c0f770dfab17dfa3defb5b3a5a1874c66ac162ffa2bab2e5e HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/613a3d3754a8319c0f770dfab17dfa3defb5b3a5a1874c66ac162ffa2bab2e5e/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 57, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 42, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.

"GET /exchange_code_for_access_token/613a3d3754a8319c0f770dfab17dfa3defb5b3a5a1874c66ac162ffa2bab2e5e/ HTTP/1.1" 500 183110
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=d21735e81b14b44836ddf7ab5acac030871e2374018839e95077fd7aaf3cc2d8 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=d21735e81b14b44836ddf7ab5acac030871e2374018839e95077fd7aaf3cc2d8 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/d21735e81b14b44836ddf7ab5acac030871e2374018839e95077fd7aaf3cc2d8/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=ee89f004e6bff7fc33ead39a93945b99ba814a56371b61e9f0b8590a3dcc1ec0 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=ee89f004e6bff7fc33ead39a93945b99ba814a56371b61e9f0b8590a3dcc1ec0 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/ee89f004e6bff7fc33ead39a93945b99ba814a56371b61e9f0b8590a3dcc1ec0/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=1c32359c5045501a08b50498b5dc597bf4c42425a6c2a8a96f8a52478729021d HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=1c32359c5045501a08b50498b5dc597bf4c42425a6c2a8a96f8a52478729021d HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/1c32359c5045501a08b50498b5dc597bf4c42425a6c2a8a96f8a52478729021d/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=5187b248409df0b8fcdf31648fc495e70036c818b594986c3fc9b5c8a177847e HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=5187b248409df0b8fcdf31648fc495e70036c818b594986c3fc9b5c8a177847e HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/5187b248409df0b8fcdf31648fc495e70036c818b594986c3fc9b5c8a177847e/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=49e89bb98914f17e06fd9492f92730f7f7438e517beeac7fd546056559c395ed HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=49e89bb98914f17e06fd9492f92730f7f7438e517beeac7fd546056559c395ed HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/49e89bb98914f17e06fd9492f92730f7f7438e517beeac7fd546056559c395ed/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=6d5e7ed4e2b713453d764c3d5369c86bd6931dc248a5b9f661f7c097f2b8b468 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=6d5e7ed4e2b713453d764c3d5369c86bd6931dc248a5b9f661f7c097f2b8b468 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/6d5e7ed4e2b713453d764c3d5369c86bd6931dc248a5b9f661f7c097f2b8b468/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=9015b63bbf35a78cf2c13dca139f8db2ceaa81d230420f231e6e14a759e272d4 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=9015b63bbf35a78cf2c13dca139f8db2ceaa81d230420f231e6e14a759e272d4 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/9015b63bbf35a78cf2c13dca139f8db2ceaa81d230420f231e6e14a759e272d4/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=b9bc3e7865b85320f1f9de2a8a92ea3fcf41db5f1a1436bd43980e0480dca916 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=b9bc3e7865b85320f1f9de2a8a92ea3fcf41db5f1a1436bd43980e0480dca916 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/b9bc3e7865b85320f1f9de2a8a92ea3fcf41db5f1a1436bd43980e0480dca916/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 61, in exchange_code_for_access_token
    indice_medium = image.find('medium')
                    ^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'find'
"GET /exchange_code_for_access_token/b9bc3e7865b85320f1f9de2a8a92ea3fcf41db5f1a1436bd43980e0480dca916/ HTTP/1.1" 500 70151
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=a394026939a42dc944a0e55e7cf186abc9e9a9a1e656c452542972bf86caa6f6 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=a394026939a42dc944a0e55e7cf186abc9e9a9a1e656c452542972bf86caa6f6 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/a394026939a42dc944a0e55e7cf186abc9e9a9a1e656c452542972bf86caa6f6/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=980474e744c1357c9d95e187d94a7029b0736459d04a70dabad77b0313a5fb1e HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=980474e744c1357c9d95e187d94a7029b0736459d04a70dabad77b0313a5fb1e HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/980474e744c1357c9d95e187d94a7029b0736459d04a70dabad77b0313a5fb1e/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=6044fc2843a154ccb7762bd1bc1d12d0ed3071d0266522fd921925bd000056fa HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=6044fc2843a154ccb7762bd1bc1d12d0ed3071d0266522fd921925bd000056fa HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/6044fc2843a154ccb7762bd1bc1d12d0ed3071d0266522fd921925bd000056fa/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=76f3df980adafbc04d535d0d690c9024b600afe6317a50feb3974fe06ffb5c8b HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=76f3df980adafbc04d535d0d690c9024b600afe6317a50feb3974fe06ffb5c8b HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/76f3df980adafbc04d535d0d690c9024b600afe6317a50feb3974fe06ffb5c8b/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=e01a48847696458644ddca2d9f09d66cdd73ea8358e58dc999c26f09db6ed285 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=e01a48847696458644ddca2d9f09d66cdd73ea8358e58dc999c26f09db6ed285 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/e01a48847696458644ddca2d9f09d66cdd73ea8358e58dc999c26f09db6ed285/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=8c27cb67272fbd01a553482ee93febdf327ce605a0901c4beccabb88eb48acdc HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=8c27cb67272fbd01a553482ee93febdf327ce605a0901c4beccabb88eb48acdc HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/8c27cb67272fbd01a553482ee93febdf327ce605a0901c4beccabb88eb48acdc/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=05114e05645e3cf54a977585c153d58dc4069f57e40fed9fe7864cf191b1eda5 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=05114e05645e3cf54a977585c153d58dc4069f57e40fed9fe7864cf191b1eda5 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/05114e05645e3cf54a977585c153d58dc4069f57e40fed9fe7864cf191b1eda5/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=2178a90e00c68f83be45ed152c7e2734d30e3dcc458ba48a4bc96a417cfaee7d HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=2178a90e00c68f83be45ed152c7e2734d30e3dcc458ba48a4bc96a417cfaee7d HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/2178a90e00c68f83be45ed152c7e2734d30e3dcc458ba48a4bc96a417cfaee7d/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=f2be8f1baae49c71645da212798d3dc085caf8e795de11909cf613ed851c446c HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=f2be8f1baae49c71645da212798d3dc085caf8e795de11909cf613ed851c446c HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/f2be8f1baae49c71645da212798d3dc085caf8e795de11909cf613ed851c446c/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=d14bda6e9ada46c40593fc0ab11eb5585180269f865b6add14a717da14b50f55 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=d14bda6e9ada46c40593fc0ab11eb5585180269f865b6add14a717da14b50f55 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/d14bda6e9ada46c40593fc0ab11eb5585180269f865b6add14a717da14b50f55/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=90587c29e9d7a81ce78c77e7b4392b84d6016c9ff653770b421f46464c4d3252 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=90587c29e9d7a81ce78c77e7b4392b84d6016c9ff653770b421f46464c4d3252 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/90587c29e9d7a81ce78c77e7b4392b84d6016c9ff653770b421f46464c4d3252/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=c92921ac1885ed001914d8022957966c3b8fd77feceb69cf705b1ebc97fd3e19 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=c92921ac1885ed001914d8022957966c3b8fd77feceb69cf705b1ebc97fd3e19 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/c92921ac1885ed001914d8022957966c3b8fd77feceb69cf705b1ebc97fd3e19/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=d22403bd0bb97d198ffd6c108f3efdb1742ac0611c4972cc082b9bd19a274f6b HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=d22403bd0bb97d198ffd6c108f3efdb1742ac0611c4972cc082b9bd19a274f6b HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/d22403bd0bb97d198ffd6c108f3efdb1742ac0611c4972cc082b9bd19a274f6b/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=abc094cc3ac589a9b90d78c3e4b2d800a0c2248d7729e4b7e05ceecfd305a63c HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=abc094cc3ac589a9b90d78c3e4b2d800a0c2248d7729e4b7e05ceecfd305a63c HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/abc094cc3ac589a9b90d78c3e4b2d800a0c2248d7729e4b7e05ceecfd305a63c/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=f7d8fd239de3126355836e15704210c014d816aa3625c9ea1c58e5a92a2b0e70 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=f7d8fd239de3126355836e15704210c014d816aa3625c9ea1c58e5a92a2b0e70 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/f7d8fd239de3126355836e15704210c014d816aa3625c9ea1c58e5a92a2b0e70/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=ba7f918c8bd18c7fbd2576be0d7bf446cda04f4eac210b310d7c0c42f71aab19 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=ba7f918c8bd18c7fbd2576be0d7bf446cda04f4eac210b310d7c0c42f71aab19 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/ba7f918c8bd18c7fbd2576be0d7bf446cda04f4eac210b310d7c0c42f71aab19/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=5fe378b6cba58d1046a0adf0163eeefd53766c21918682c4df6b17b2d818c02d HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=5fe378b6cba58d1046a0adf0163eeefd53766c21918682c4df6b17b2d818c02d HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/5fe378b6cba58d1046a0adf0163eeefd53766c21918682c4df6b17b2d818c02d/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 59, in exchange_code_for_access_token
    usersaved = user_list(user.get('id') ,user_data.get('first_name', ''), user_data.get('last_name', ''), user_data.get('login', ''), '', user_data.get('email', ''), image)
                          ^^^^^^^^
AttributeError: 'User' object has no attribute 'get'
"GET /exchange_code_for_access_token/5fe378b6cba58d1046a0adf0163eeefd53766c21918682c4df6b17b2d818c02d/ HTTP/1.1" 500 70394
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=8290e42f32bf7bd6bd1b03035920584c16a3d097f3068b73f16fc42847a19c79 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=8290e42f32bf7bd6bd1b03035920584c16a3d097f3068b73f16fc42847a19c79 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/8290e42f32bf7bd6bd1b03035920584c16a3d097f3068b73f16fc42847a19c79/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=d51f91028b83ecee0f003943a35f1e35887d09a206fcb98251b1b23e8f89d23e HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=d51f91028b83ecee0f003943a35f1e35887d09a206fcb98251b1b23e8f89d23e HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/d51f91028b83ecee0f003943a35f1e35887d09a206fcb98251b1b23e8f89d23e/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 60, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 42, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.

"GET /exchange_code_for_access_token/d51f91028b83ecee0f003943a35f1e35887d09a206fcb98251b1b23e8f89d23e/ HTTP/1.1" 500 183986
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=34a2287ad63787a875da30a58dc00b6619eb40b99573ca9a1a471ae65a137277 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=34a2287ad63787a875da30a58dc00b6619eb40b99573ca9a1a471ae65a137277 HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/34a2287ad63787a875da30a58dc00b6619eb40b99573ca9a1a471ae65a137277/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 60, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 42, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.

"GET /exchange_code_for_access_token/34a2287ad63787a875da30a58dc00b6619eb40b99573ca9a1a471ae65a137277/ HTTP/1.1" 500 183987
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=8c053665ddfe196cf55132641b1587bb9dc012d63e0ca5586b0c08a91c2e316c HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=8c053665ddfe196cf55132641b1587bb9dc012d63e0ca5586b0c08a91c2e316c HTTP/1.1" 302 0
Internal Server Error: /exchange_code_for_access_token/8c053665ddfe196cf55132641b1587bb9dc012d63e0ca5586b0c08a91c2e316c/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 51, in exchange_code_for_access_token
    user, created = User.objects.get_or_create(username=user_data['login' + 'test'])
                                                        ~~~~~~~~~^^^^^^^^^^^^^^^^^^
KeyError: 'logintest'
"GET /exchange_code_for_access_token/8c053665ddfe196cf55132641b1587bb9dc012d63e0ca5586b0c08a91c2e316c/ HTTP/1.1" 500 69387
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=6f3f164928e3306d6e65ec25c1f1ae79681e13b559d5cf972988360165930f79 HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=6f3f164928e3306d6e65ec25c1f1ae79681e13b559d5cf972988360165930f79 HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/6f3f164928e3306d6e65ec25c1f1ae79681e13b559d5cf972988360165930f79/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=81d0e7000f1a824f12082e6b382eac7389655aa0ca16dd38bee52bd735c5fb1e HTTP/1.1" 301 0
"GET /redirection_apres_authentification/?code=81d0e7000f1a824f12082e6b382eac7389655aa0ca16dd38bee52bd735c5fb1e HTTP/1.1" 302 0
"GET /exchange_code_for_access_token/81d0e7000f1a824f12082e6b382eac7389655aa0ca16dd38bee52bd735c5fb1e/ HTTP/1.1" 302 0
"GET /home HTTP/1.1" 200 273
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /connexion_42/? HTTP/1.1" 302 0
"GET /redirection_apres_authentification?code=15e02adb2a46dd8b689172e4a9cbb3daa40b0341b7588f4970c2d34d0bcb2e2d HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=15e02adb2a46dd8b689172e4a9cbb3daa40b0341b7588f4970c2d34d0bcb2e2d HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/15e02adb2a46dd8b689172e4a9cbb3daa40b0341b7588f4970c2d34d0bcb2e2d/ HTTP/1.0" 302 0
"GET /home HTTP/1.0" 200 273
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.0" 404 2972
Watching for file changes with StatReloader
"GET / HTTP/1.0" 200 23927
"GET /home HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=bb58175e6c2f267f65ed40af26c7e1048d5bd4cf6a76f0f52dcb06ab2f524058 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=bb58175e6c2f267f65ed40af26c7e1048d5bd4cf6a76f0f52dcb06ab2f524058 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/bb58175e6c2f267f65ed40af26c7e1048d5bd4cf6a76f0f52dcb06ab2f524058/ HTTP/1.0" 302 0
"GET /home HTTP/1.0" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET / HTTP/1.0" 200 23927
"GET /home HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=59b5598991a234ae1ce87788925423e157a40663e379123b418d80a9a917e74e HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=59b5598991a234ae1ce87788925423e157a40663e379123b418d80a9a917e74e HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/59b5598991a234ae1ce87788925423e157a40663e379123b418d80a9a917e74e/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 118, in exchange_code_for_access_token
    urllib.request.urlretrieve(image, "photos/" + user_data.get('username') + '.png')
                                      ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: can only concatenate str (not "NoneType") to str
"GET /exchange_code_for_access_token/59b5598991a234ae1ce87788925423e157a40663e379123b418d80a9a917e74e/ HTTP/1.0" 500 72306
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=a61425ea5b2b8c6e7bfc7eff3cae2b33ecb932146c64a5a3d36e2725e1960472 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=a61425ea5b2b8c6e7bfc7eff3cae2b33ecb932146c64a5a3d36e2725e1960472 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/a61425ea5b2b8c6e7bfc7eff3cae2b33ecb932146c64a5a3d36e2725e1960472/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 118, in exchange_code_for_access_token
    urllib.request.urlretrieve(image, "photos/" + user_data.get('username') + '.png')
                                      ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: can only concatenate str (not "NoneType") to str
"GET /exchange_code_for_access_token/a61425ea5b2b8c6e7bfc7eff3cae2b33ecb932146c64a5a3d36e2725e1960472/ HTTP/1.0" 500 72270
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=9da1245f609fd7fb97f1c8c0f3a35166f648797d3c0229899b689a9eb689a757 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=9da1245f609fd7fb97f1c8c0f3a35166f648797d3c0229899b689a9eb689a757 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/9da1245f609fd7fb97f1c8c0f3a35166f648797d3c0229899b689a9eb689a757/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 118, in exchange_code_for_access_token
    linkpic = 'photos/' + user_data.get('username') + '.png'
              ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: can only concatenate str (not "NoneType") to str
"GET /exchange_code_for_access_token/9da1245f609fd7fb97f1c8c0f3a35166f648797d3c0229899b689a9eb689a757/ HTTP/1.0" 500 72150
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=c42d7dba01506320fecebb4bc38bf59ef17df6fbf3a03a9963b953ab037b2ab7 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=c42d7dba01506320fecebb4bc38bf59ef17df6fbf3a03a9963b953ab037b2ab7 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/c42d7dba01506320fecebb4bc38bf59ef17df6fbf3a03a9963b953ab037b2ab7/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 119, in exchange_code_for_access_token
    linkpic = 'photos/' + uslogin + '.png'
              ~~~~~~~~~~^~~~~~~~~
TypeError: can only concatenate str (not "NoneType") to str
"GET /exchange_code_for_access_token/c42d7dba01506320fecebb4bc38bf59ef17df6fbf3a03a9963b953ab037b2ab7/ HTTP/1.0" 500 72197
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=baf3bd233bdbc756d16e70f8ba69b96ec8b0eafe11167dff75d0964414b0b70b HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=baf3bd233bdbc756d16e70f8ba69b96ec8b0eafe11167dff75d0964414b0b70b HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/baf3bd233bdbc756d16e70f8ba69b96ec8b0eafe11167dff75d0964414b0b70b/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 120, in exchange_code_for_access_token
    urllib.request.urlretrieve(image, "photos/" + linkpic)
  File "/usr/local/lib/python3.11/urllib/request.py", line 251, in urlretrieve
    tfp = open(filename, 'wb')
          ^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'photos/photos/.png'
"GET /exchange_code_for_access_token/baf3bd233bdbc756d16e70f8ba69b96ec8b0eafe11167dff75d0964414b0b70b/ HTTP/1.0" 500 77544
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=8c6f703d13271b3831dcadd9a751fb2d4f18d170b5970f5d99ed61e5a2e149e3 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=8c6f703d13271b3831dcadd9a751fb2d4f18d170b5970f5d99ed61e5a2e149e3 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/8c6f703d13271b3831dcadd9a751fb2d4f18d170b5970f5d99ed61e5a2e149e3/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 120, in exchange_code_for_access_token
    urllib.request.urlretrieve(image, linkpic)
  File "/usr/local/lib/python3.11/urllib/request.py", line 251, in urlretrieve
    tfp = open(filename, 'wb')
          ^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'photos/.png'
"GET /exchange_code_for_access_token/8c6f703d13271b3831dcadd9a751fb2d4f18d170b5970f5d99ed61e5a2e149e3/ HTTP/1.0" 500 77448
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=02dd8fa96f5e7c93b3499cbda7e49d0fc158b61f7f5dbd4615e6b364df1521b2 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=02dd8fa96f5e7c93b3499cbda7e49d0fc158b61f7f5dbd4615e6b364df1521b2 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/02dd8fa96f5e7c93b3499cbda7e49d0fc158b61f7f5dbd4615e6b364df1521b2/ HTTP/1.0" 302 0
"GET /home HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=9cdbb3159194c777f5f0ce298579902bd3cca4428b69447172b54e1462c292ae HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=9cdbb3159194c777f5f0ce298579902bd3cca4428b69447172b54e1462c292ae HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/9cdbb3159194c777f5f0ce298579902bd3cca4428b69447172b54e1462c292ae/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 120, in exchange_code_for_access_token
    urllib.request.urlretrieve(image, linkpic)
  File "/usr/local/lib/python3.11/urllib/request.py", line 251, in urlretrieve
    tfp = open(filename, 'wb')
          ^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'photos/.png'
"GET /exchange_code_for_access_token/9cdbb3159194c777f5f0ce298579902bd3cca4428b69447172b54e1462c292ae/ HTTP/1.0" 500 77443
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=43b555d431b9a89d3e7526d9462e0bdad8d0170205e632f6dcf3b39f247da41c HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=43b555d431b9a89d3e7526d9462e0bdad8d0170205e632f6dcf3b39f247da41c HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/43b555d431b9a89d3e7526d9462e0bdad8d0170205e632f6dcf3b39f247da41c/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 120, in exchange_code_for_access_token
    urllib.request.urlretrieve(image, linkpic)
  File "/usr/local/lib/python3.11/urllib/request.py", line 251, in urlretrieve
    tfp = open(filename, 'wb')
          ^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'photos/test.png'
"GET /exchange_code_for_access_token/43b555d431b9a89d3e7526d9462e0bdad8d0170205e632f6dcf3b39f247da41c/ HTTP/1.0" 500 77434
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=cd84295b9015440010d4bb950514d11c8444040ac7da4dc62565c884e3023d33 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=cd84295b9015440010d4bb950514d11c8444040ac7da4dc62565c884e3023d33 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/cd84295b9015440010d4bb950514d11c8444040ac7da4dc62565c884e3023d33/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 119, in exchange_code_for_access_token
    f = open('photos' + user_data.get('username', '') + 'png')
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'photospng'
"GET /exchange_code_for_access_token/cd84295b9015440010d4bb950514d11c8444040ac7da4dc62565c884e3023d33/ HTTP/1.0" 500 72182
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=24605d31a298eae00d021040490ea7205257dd6512b5ac66503b0dba1525d13f HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=24605d31a298eae00d021040490ea7205257dd6512b5ac66503b0dba1525d13f HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/24605d31a298eae00d021040490ea7205257dd6512b5ac66503b0dba1525d13f/ HTTP/1.0" 302 0
"GET /home HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=ff6638d0eaf97d6cae24cea167039bf41efde4d00b1b0a01dba990050b9d880a HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=ff6638d0eaf97d6cae24cea167039bf41efde4d00b1b0a01dba990050b9d880a HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/ff6638d0eaf97d6cae24cea167039bf41efde4d00b1b0a01dba990050b9d880a/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 119, in exchange_code_for_access_token
    f = open('photos' + user_data.username + '.png')
                        ^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'username'
"GET /exchange_code_for_access_token/ff6638d0eaf97d6cae24cea167039bf41efde4d00b1b0a01dba990050b9d880a/ HTTP/1.0" 500 72110
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=d39ac7375e2b6f084919b14411584ff9f7a7709b582992d10fb67db7bb6291ce HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=d39ac7375e2b6f084919b14411584ff9f7a7709b582992d10fb67db7bb6291ce HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/d39ac7375e2b6f084919b14411584ff9f7a7709b582992d10fb67db7bb6291ce/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 119, in exchange_code_for_access_token
    f = open('photos' + user.username + '.png')
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'photoslseiberrtest.png'
"GET /exchange_code_for_access_token/d39ac7375e2b6f084919b14411584ff9f7a7709b582992d10fb67db7bb6291ce/ HTTP/1.0" 500 72121
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=6551530b8377d786476d1650b7c449464a2ee72e15024eb379215adf4b883467 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=6551530b8377d786476d1650b7c449464a2ee72e15024eb379215adf4b883467 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/6551530b8377d786476d1650b7c449464a2ee72e15024eb379215adf4b883467/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 119, in exchange_code_for_access_token
    f = open('photos/' + user.username + '.png')
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'photos/lseiberrtest.png'
"GET /exchange_code_for_access_token/6551530b8377d786476d1650b7c449464a2ee72e15024eb379215adf4b883467/ HTTP/1.0" 500 72128
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=2671774510de134ac69a44550053f9f0b83ddd34d04084b2705b4f43ced3b93c HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=2671774510de134ac69a44550053f9f0b83ddd34d04084b2705b4f43ced3b93c HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/2671774510de134ac69a44550053f9f0b83ddd34d04084b2705b4f43ced3b93c/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 119, in exchange_code_for_access_token
    f = open('photos/' + user.username - 'test' + '.png')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for -: 'str' and 'str'
"GET /exchange_code_for_access_token/2671774510de134ac69a44550053f9f0b83ddd34d04084b2705b4f43ced3b93c/ HTTP/1.0" 500 72150
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=5b668bb0142991be5cec670e1e1686e21540ec485259f16085e24ce8841205ce HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=5b668bb0142991be5cec670e1e1686e21540ec485259f16085e24ce8841205ce HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/5b668bb0142991be5cec670e1e1686e21540ec485259f16085e24ce8841205ce/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 119, in exchange_code_for_access_token
    f = open('photos/' + user.username.replacesuffix('test') - + '.png')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'replacesuffix'
"GET /exchange_code_for_access_token/5b668bb0142991be5cec670e1e1686e21540ec485259f16085e24ce8841205ce/ HTTP/1.0" 500 72202
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=392683353d91da7a9e4d17f72f791ce988708473ff6c83b7bd68b6b3cd9eb170 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=392683353d91da7a9e4d17f72f791ce988708473ff6c83b7bd68b6b3cd9eb170 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/392683353d91da7a9e4d17f72f791ce988708473ff6c83b7bd68b6b3cd9eb170/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 119, in exchange_code_for_access_token
    f = open('photos/' + user.username.removesuffix('test') - + '.png')
                                                              ^^^^^^^^
TypeError: bad operand type for unary +: 'str'
"GET /exchange_code_for_access_token/392683353d91da7a9e4d17f72f791ce988708473ff6c83b7bd68b6b3cd9eb170/ HTTP/1.0" 500 72126
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=cfc8ae334d216e7f1fa6edbceb4b2d161f5cb2b6bd926fc872d281e87ebf197d HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=cfc8ae334d216e7f1fa6edbceb4b2d161f5cb2b6bd926fc872d281e87ebf197d HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/cfc8ae334d216e7f1fa6edbceb4b2d161f5cb2b6bd926fc872d281e87ebf197d/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 119, in exchange_code_for_access_token
    f = open('photos/' + user.username.removesuffix('test') + '.png')
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'photos/lseiberr.png'
"GET /exchange_code_for_access_token/cfc8ae334d216e7f1fa6edbceb4b2d161f5cb2b6bd926fc872d281e87ebf197d/ HTTP/1.0" 500 72220
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=27c9f4a567ae0b5a7cfc0888fee529f1a73dcd5c1cdf1dd9136e087fe0c66533 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=27c9f4a567ae0b5a7cfc0888fee529f1a73dcd5c1cdf1dd9136e087fe0c66533 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/27c9f4a567ae0b5a7cfc0888fee529f1a73dcd5c1cdf1dd9136e087fe0c66533/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 122, in exchange_code_for_access_token
    self.photo.save(
    ^^^^
NameError: name 'self' is not defined
"GET /exchange_code_for_access_token/27c9f4a567ae0b5a7cfc0888fee529f1a73dcd5c1cdf1dd9136e087fe0c66533/ HTTP/1.0" 500 72005
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=75badbe17a08e0b63c0d251b4d5767a6f71117356a0efe10d74d1da50abbbd9c HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=75badbe17a08e0b63c0d251b4d5767a6f71117356a0efe10d74d1da50abbbd9c HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/75badbe17a08e0b63c0d251b4d5767a6f71117356a0efe10d74d1da50abbbd9c/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 128, in exchange_code_for_access_token
    usersaved = user_list(user.id ,user_data.get('first_name', ''), user_data.get('last_name', ''), user_data.get('login', ''), '', user_data.get('email', ''), linkpic)
                                                                                                                                                                ^^^^^^^
NameError: name 'linkpic' is not defined
"GET /exchange_code_for_access_token/75badbe17a08e0b63c0d251b4d5767a6f71117356a0efe10d74d1da50abbbd9c/ HTTP/1.0" 500 72506
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=89402c147d6d6e91b74c91da4feefb23f311f7b4584868b4bcea532dd0db65f0 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=89402c147d6d6e91b74c91da4feefb23f311f7b4584868b4bcea532dd0db65f0 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/89402c147d6d6e91b74c91da4feefb23f311f7b4584868b4bcea532dd0db65f0/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 123, in exchange_code_for_access_token
    self.photo.save(
    ^^^^
NameError: name 'self' is not defined
"GET /exchange_code_for_access_token/89402c147d6d6e91b74c91da4feefb23f311f7b4584868b4bcea532dd0db65f0/ HTTP/1.0" 500 72003
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=768d5533387319ff27a6b52aef2e4da04f1bd93df5c1fa85a25d38e324b6b760 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=768d5533387319ff27a6b52aef2e4da04f1bd93df5c1fa85a25d38e324b6b760 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/768d5533387319ff27a6b52aef2e4da04f1bd93df5c1fa85a25d38e324b6b760/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 123, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 981, in _save_table
    values = [
             ^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 985, in <listcomp>
    (getattr(self, f.attname) if raw else f.pre_save(self, False)),
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/files.py", line 315, in pre_save
    if file and not file._committed:
                    ^^^^^^^^^^^^^^^
AttributeError: 'tuple' object has no attribute '_committed'
"GET /exchange_code_for_access_token/768d5533387319ff27a6b52aef2e4da04f1bd93df5c1fa85a25d38e324b6b760/ HTTP/1.0" 500 97920
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=2168365530f099b2d47056bf9b0c8da0cf98a281e9539b314bce874beda2e6d8 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=2168365530f099b2d47056bf9b0c8da0cf98a281e9539b314bce874beda2e6d8 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/2168365530f099b2d47056bf9b0c8da0cf98a281e9539b314bce874beda2e6d8/ HTTP/1.0" 302 0
"GET /home HTTP/1.0" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=d47e8c1b85f34c1f32f968ea9758b50c64255325e34b9db095f95c0407ad5962 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=d47e8c1b85f34c1f32f968ea9758b50c64255325e34b9db095f95c0407ad5962 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/d47e8c1b85f34c1f32f968ea9758b50c64255325e34b9db095f95c0407ad5962/ HTTP/1.0" 302 0
"GET /home HTTP/1.0" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=5a7bd9a483edd66ec85c585ac405fbc935d32918cd4e9912ffe90bc5b323a590 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=5a7bd9a483edd66ec85c585ac405fbc935d32918cd4e9912ffe90bc5b323a590 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/5a7bd9a483edd66ec85c585ac405fbc935d32918cd4e9912ffe90bc5b323a590/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 121, in exchange_code_for_access_token
    urllib.request.urlretrieve(image, 'photos/' + user.username + '.png')
  File "/usr/local/lib/python3.11/urllib/request.py", line 251, in urlretrieve
    tfp = open(filename, 'wb')
          ^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'photos/lseiberrtest.png'
"GET /exchange_code_for_access_token/5a7bd9a483edd66ec85c585ac405fbc935d32918cd4e9912ffe90bc5b323a590/ HTTP/1.0" 500 77299
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=2249a3a5c20ed350f29e426e52ac5241ea1f9a75beac65070a6a6bdb9f5897b8 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=2249a3a5c20ed350f29e426e52ac5241ea1f9a75beac65070a6a6bdb9f5897b8 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/2249a3a5c20ed350f29e426e52ac5241ea1f9a75beac65070a6a6bdb9f5897b8/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 121, in exchange_code_for_access_token
    urllib.request.urlretrieve(image, 'photos/' + user.username.removesuffix('test') + '.png')
  File "/usr/local/lib/python3.11/urllib/request.py", line 251, in urlretrieve
    tfp = open(filename, 'wb')
          ^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'photos/lseiberr.png'
"GET /exchange_code_for_access_token/2249a3a5c20ed350f29e426e52ac5241ea1f9a75beac65070a6a6bdb9f5897b8/ HTTP/1.0" 500 77387
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=c574bcece386a565ec581c02ea8f515aa9b31af051db4d4f7df7f4bebf990c91 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=c574bcece386a565ec581c02ea8f515aa9b31af051db4d4f7df7f4bebf990c91 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/c574bcece386a565ec581c02ea8f515aa9b31af051db4d4f7df7f4bebf990c91/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 122, in exchange_code_for_access_token
    output = open('photos/' + user.username.removesuffix('test') + '.png')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'photos/lseiberr.png'
"GET /exchange_code_for_access_token/c574bcece386a565ec581c02ea8f515aa9b31af051db4d4f7df7f4bebf990c91/ HTTP/1.0" 500 72490
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=87ba05611b3dd911071a579d8a30d6f8304152d2de01cc13181584e303108368 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=87ba05611b3dd911071a579d8a30d6f8304152d2de01cc13181584e303108368 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/87ba05611b3dd911071a579d8a30d6f8304152d2de01cc13181584e303108368/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 131, in exchange_code_for_access_token
    output.write(result.read())
                 ^^^^^^^^^^^
AttributeError: 'tuple' object has no attribute 'read'
"GET /exchange_code_for_access_token/87ba05611b3dd911071a579d8a30d6f8304152d2de01cc13181584e303108368/ HTTP/1.0" 500 72758
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=d3b0767a7120a5cf3b2d34388eaf69fc2dafbb4108c3f236a93ca59e0cf71730 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=d3b0767a7120a5cf3b2d34388eaf69fc2dafbb4108c3f236a93ca59e0cf71730 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/d3b0767a7120a5cf3b2d34388eaf69fc2dafbb4108c3f236a93ca59e0cf71730/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 121, in exchange_code_for_access_token
    filename, headers = urllib.request.urlretrieve(image)
                                                   ^^^^^^^
NameError: name 'image_ur' is not defined
"GET /exchange_code_for_access_token/d3b0767a7120a5cf3b2d34388eaf69fc2dafbb4108c3f236a93ca59e0cf71730/ HTTP/1.0" 500 71866
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=b5f17cfb01d8d68bfbd23f970d5615947d642cc2438373f813ef1c4a2ce786ea HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=b5f17cfb01d8d68bfbd23f970d5615947d642cc2438373f813ef1c4a2ce786ea HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/b5f17cfb01d8d68bfbd23f970d5615947d642cc2438373f813ef1c4a2ce786ea/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 121, in exchange_code_for_access_token
    filename, headers = urllib.request.urlretrieve(image)
                                                   ^^^^^^^
NameError: name 'image_ur' is not defined
"GET /exchange_code_for_access_token/b5f17cfb01d8d68bfbd23f970d5615947d642cc2438373f813ef1c4a2ce786ea/ HTTP/1.0" 500 71866
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=94b9213b37ceeb84ddb66dbbd4900c84ea2672c86b4280b2f4f89ec94a93abf3 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=94b9213b37ceeb84ddb66dbbd4900c84ea2672c86b4280b2f4f89ec94a93abf3 HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/94b9213b37ceeb84ddb66dbbd4900c84ea2672c86b4280b2f4f89ec94a93abf3/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 121, in exchange_code_for_access_token
    filename, headers = urllib.request.urlretrieve(image)
                                                   ^^^^^^^
NameError: name 'image_ur' is not defined
"GET /exchange_code_for_access_token/94b9213b37ceeb84ddb66dbbd4900c84ea2672c86b4280b2f4f89ec94a93abf3/ HTTP/1.0" 500 71866
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=080e0ddc61a4c05a934be0d3d909e006b6e85118de2d3b8053a206fba13432e8 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=080e0ddc61a4c05a934be0d3d909e006b6e85118de2d3b8053a206fba13432e8 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/080e0ddc61a4c05a934be0d3d909e006b6e85118de2d3b8053a206fba13432e8/ HTTP/1.0" 302 0
"GET /home HTTP/1.0" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=cf1feabb87df012ec1da6df8864ac4efd9a1fa70de35e6df59510cbf037d5b0d HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=cf1feabb87df012ec1da6df8864ac4efd9a1fa70de35e6df59510cbf037d5b0d HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/cf1feabb87df012ec1da6df8864ac4efd9a1fa70de35e6df59510cbf037d5b0d/ HTTP/1.0" 302 0
"GET /home HTTP/1.0" 200 273
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=e131bd082d649b4a56d106323e68db096bb1ba327414156f9120810af42d9e96 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=e131bd082d649b4a56d106323e68db096bb1ba327414156f9120810af42d9e96 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/e131bd082d649b4a56d106323e68db096bb1ba327414156f9120810af42d9e96/ HTTP/1.0" 302 0
"GET /home HTTP/1.0" 200 273
"GET /users HTTP/1.0" 301 0
"GET /users/ HTTP/1.0" 200 1380
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=a01905d017bacc5a445b11b442bd923f65f1cf3732cda850d3d294160a4db51f HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=a01905d017bacc5a445b11b442bd923f65f1cf3732cda850d3d294160a4db51f HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/a01905d017bacc5a445b11b442bd923f65f1cf3732cda850d3d294160a4db51f/ HTTP/1.0" 302 0
"GET /home HTTP/1.0" 200 273
"GET / HTTP/1.0" 200 23927
"GET /users/ HTTP/1.0" 200 1380
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
"GET /home HTTP/1.0" 301 0
Internal Server Error: /home/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 72, in home
    return render(request, 'home.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: home.html
"GET /home/ HTTP/1.0" 500 77730
"GET /home/ HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=b7391d2d76892f071ae7af59352b6000e5ac16f944aa28ac114a8afa38e8d56a HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=b7391d2d76892f071ae7af59352b6000e5ac16f944aa28ac114a8afa38e8d56a HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/b7391d2d76892f071ae7af59352b6000e5ac16f944aa28ac114a8afa38e8d56a/ HTTP/1.0" 302 0
"GET /home/ HTTP/1.0" 200 273
"GET / HTTP/1.0" 200 21317
"GET /users/ HTTP/1.0" 200 1380
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=657d2722f6a5d89b992b85d74b0acc71ff90c0f5b9900d464478753ccbb236c3 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=657d2722f6a5d89b992b85d74b0acc71ff90c0f5b9900d464478753ccbb236c3 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/657d2722f6a5d89b992b85d74b0acc71ff90c0f5b9900d464478753ccbb236c3/ HTTP/1.0" 302 0
"GET /home/ HTTP/1.0" 200 273
"GET / HTTP/1.0" 200 21317
"GET /users/ HTTP/1.0" 200 2202
"GET /users/ HTTP/1.0" 200 2202
"GET /users/ HTTP/1.0" 200 2202
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=c385900334df3a21b2576978d8b3c62d0749f6184918e344df390b1bdd3ee5f5 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=c385900334df3a21b2576978d8b3c62d0749f6184918e344df390b1bdd3ee5f5 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/c385900334df3a21b2576978d8b3c62d0749f6184918e344df390b1bdd3ee5f5/ HTTP/1.0" 302 0
"GET /home/ HTTP/1.0" 200 273
"GET /users/ HTTP/1.0" 200 3021
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
"GET / HTTP/1.0" 200 21317
"GET /users/ HTTP/1.0" 200 559
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /doubleauth/
"GET /doubleauth/ HTTP/1.0" 404 5471
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /home/ HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=958b45aeedc5997f111f27a5bbb634c678e4820c542a6e4edccbcc224753839f HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=958b45aeedc5997f111f27a5bbb634c678e4820c542a6e4edccbcc224753839f HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/958b45aeedc5997f111f27a5bbb634c678e4820c542a6e4edccbcc224753839f/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(aandrieu) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 125, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 47, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(aandrieu) already exists.

"GET /exchange_code_for_access_token/958b45aeedc5997f111f27a5bbb634c678e4820c542a6e4edccbcc224753839f/ HTTP/1.0" 500 194058
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=c512fa7b872c686741e639422ec65cd0728660a0e5edcd0ea866e8bc227139de HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=c512fa7b872c686741e639422ec65cd0728660a0e5edcd0ea866e8bc227139de HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/c512fa7b872c686741e639422ec65cd0728660a0e5edcd0ea866e8bc227139de/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(aandrieu) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 125, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 47, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(aandrieu) already exists.

"GET /exchange_code_for_access_token/c512fa7b872c686741e639422ec65cd0728660a0e5edcd0ea866e8bc227139de/ HTTP/1.0" 500 194037
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /doubleauth/
"GET /doubleauth/ HTTP/1.0" 404 5480
Not Found: /account/login/
"GET /account/login/ HTTP/1.0" 404 3831
Not Found: /doubleauth/
"GET /doubleauth/ HTTP/1.0" 404 5480
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /doubleauth/
"GET /doubleauth/ HTTP/1.0" 404 5480
Not Found: /doubleauth/
"GET /doubleauth/ HTTP/1.0" 404 5480
"GET / HTTP/1.0" 200 21317
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET / HTTP/1.0" 200 21317
"GET /home HTTP/1.0" 301 0
"GET /home/ HTTP/1.0" 200 273
"GET /users/ HTTP/1.0" 200 1378
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
"GET /login HTTP/1.0" 200 4553
"GET /register HTTP/1.0" 200 4883
"POST /register HTTP/1.0" 200 4883
"GET /login HTTP/1.0" 200 4553
"GET /login?csrfmiddlewaretoken=IsZk5VuERuAIByqec0O1fCZRL9Ud4BM1re4tB2JkEC4X503S3kqp5v4NAqaF8fHa&username=seib&password=test HTTP/1.0" 200 4553
"GET /login?csrfmiddlewaretoken=W1VQUIkVCTeQWlPX2JNZ9LU9xgEUf3gbFN0ZqPzBp1I5qNsBT3pnZEZ5mxUmjHbk&username=test&password=test HTTP/1.0" 200 4553
"GET /login?csrfmiddlewaretoken=vYESoHoiJHBx5VcsFrT3FAk3m7lyjDXIeKJ1UODYwP5MznP6wLvrvtpZboB0nhSR&username=test&password=test HTTP/1.0" 200 4553
"GET /register HTTP/1.0" 200 4883
"POST /register HTTP/1.0" 200 4883
"GET /login HTTP/1.0" 200 4553
"GET /login?csrfmiddlewaretoken=uRaddd5K662aG06V9woQpMsBHf6eSSJOdDfmJkkqTewpasJz0Q0efFxxwwmGWwEX&username=test&password=test HTTP/1.0" 200 4553
"GET /users/ HTTP/1.0" 200 1378
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /login?csrfmiddlewaretoken=bzpbz3EouWWXtlHraIXxg7RuwTNEGgrtUluk5aT4h4qcXNk512zV60Wqla36KUmC&username=test&password=test HTTP/1.0" 200 4553
Not Found: /8080
"GET /8080 HTTP/1.0" 404 3942
"GET /register HTTP/1.0" 200 4883
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
"GET /register HTTP/1.0" 200 4883
"POST /register HTTP/1.0" 200 4883
"GET /users/ HTTP/1.0" 200 1378
"GET /login HTTP/1.0" 200 4553
"GET /login?csrfmiddlewaretoken=YkmwF0D1HNU1gp6MaLwk0KhYzZcagNHFH6rFb7SHuVogKRJq158IQDmUogsCkrCO&username=test&password=test HTTP/1.0" 200 4553
"GET /register HTTP/1.0" 200 4883
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /login HTTP/1.0" 200 4553
"GET /register HTTP/1.0" 200 4883
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /login HTTP/1.0" 200 4553
"GET /home/ HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=a157ad5fd27029ec897c28b7c81e144becc5199513c8131b0d06692624366d2d HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=a157ad5fd27029ec897c28b7c81e144becc5199513c8131b0d06692624366d2d HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/a157ad5fd27029ec897c28b7c81e144becc5199513c8131b0d06692624366d2d/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(aandrieu) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 141, in exchange_code_for_access_token
    usersaved.save()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 47, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(aandrieu) already exists.

"GET /exchange_code_for_access_token/a157ad5fd27029ec897c28b7c81e144becc5199513c8131b0d06692624366d2d/ HTTP/1.0" 500 194088
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=4d4c1b8012937c682b7b644bc7d1aa9c000403e17e4cac40d5a395318c212269 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=4d4c1b8012937c682b7b644bc7d1aa9c000403e17e4cac40d5a395318c212269 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/4d4c1b8012937c682b7b644bc7d1aa9c000403e17e4cac40d5a395318c212269/ HTTP/1.0" 302 0
"GET /home/ HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=ecdbde5822e1e6b51f3cbdb1d0220ebb3ecdca4bb18cb3fe1b08ffe01fe50296 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=ecdbde5822e1e6b51f3cbdb1d0220ebb3ecdca4bb18cb3fe1b08ffe01fe50296 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/ecdbde5822e1e6b51f3cbdb1d0220ebb3ecdca4bb18cb3fe1b08ffe01fe50296/ HTTP/1.0" 302 0
"GET /home/ HTTP/1.0" 200 273
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=79f517deee4d74dd5f20967609fad20deaa9553d8f5ad9f9c3a3872640e81c01 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=79f517deee4d74dd5f20967609fad20deaa9553d8f5ad9f9c3a3872640e81c01 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/79f517deee4d74dd5f20967609fad20deaa9553d8f5ad9f9c3a3872640e81c01/ HTTP/1.0" 302 0
"GET /home/ HTTP/1.0" 200 273
Watching for file changes with StatReloader
"GET / HTTP/1.0" 200 21317
"GET /register HTTP/1.0" 200 4883
"POST /register HTTP/1.0" 302 0
"GET / HTTP/1.0" 200 21317
Watching for file changes with StatReloader
"GET /login HTTP/1.0" 200 4873
"GET /login HTTP/1.0" 200 4574
"GET /login HTTP/1.0" 200 4574
"GET /login HTTP/1.0" 200 4574
"GET /login HTTP/1.0" 200 4574
Watching for file changes with StatReloader
"GET /login HTTP/1.0" 200 4574
"GET /login HTTP/1.0" 200 23918
"GET /login HTTP/1.0" 200 824
"POST /login HTTP/1.0" 302 0
"GET / HTTP/1.0" 200 21317
Forbidden (CSRF token from POST incorrect.): /login
"POST /login HTTP/1.0" 403 2518
"GET /login HTTP/1.0" 200 824
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
"POST /login HTTP/1.0" 302 0
"GET / HTTP/1.0" 200 21317
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /login HTTP/1.0" 200 824
"POST /login HTTP/1.0" 302 0
"GET /two_factor_login/ HTTP/1.0" 200 609
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
"GET /login HTTP/1.0" 200 824
Internal Server Error: /login
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 60, in login_view
    return redirect('verify_2fa')
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 48, in redirect
    return redirect_class(resolve_url(to, *args, **kwargs))
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 145, in resolve_url
    return reverse(to, args=args, kwargs=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/resolvers.py", line 828, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'verify_2fa' not found. 'verify_2fa' is not a valid view function or pattern name.
"POST /login HTTP/1.0" 500 84288
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
"GET /login HTTP/1.0" 200 824
Internal Server Error: /login
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 60, in login_view
    return redirect('verify_2fa')
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 48, in redirect
    return redirect_class(resolve_url(to, *args, **kwargs))
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 145, in resolve_url
    return reverse(to, args=args, kwargs=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/resolvers.py", line 828, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'verify_2fa' not found. 'verify_2fa' is not a valid view function or pattern name.
"POST /login HTTP/1.0" 500 84156
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Forbidden (CSRF token from POST incorrect.): /login
"POST /login HTTP/1.0" 403 2518
Watching for file changes with StatReloader
Forbidden (CSRF token from POST incorrect.): /login
"POST /login HTTP/1.0" 403 2518
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
Forbidden (CSRF token from POST incorrect.): /login
"POST /login HTTP/1.0" 403 2518
"GET /login HTTP/1.0" 200 1077
"GET /login HTTP/1.0" 200 845
Internal Server Error: /login
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 60, in login_view
    return redirect('verify_2fa')
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 48, in redirect
    return redirect_class(resolve_url(to, *args, **kwargs))
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 145, in resolve_url
    return reverse(to, args=args, kwargs=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/resolvers.py", line 828, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'verify_2fa' not found. 'verify_2fa' is not a valid view function or pattern name.
"POST /login HTTP/1.0" 500 84156
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
Forbidden (CSRF token from POST incorrect.): /login
"POST /login HTTP/1.0" 403 2518
"GET /login HTTP/1.0" 200 845
"POST /login HTTP/1.0" 302 0
"GET /login/ HTTP/1.0" 200 845
"POST /login/ HTTP/1.0" 302 0
"GET /verify_2fa/ HTTP/1.0" 200 609
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /login/ HTTP/1.0" 200 845
"POST /login/ HTTP/1.0" 302 0
Internal Server Error: /verify_2fa/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 110, in verify_2fa
    if not user.has_usable_verified_otp_device():
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/utils/functional.py", line 268, in inner
    return func(_wrapped, *args)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/utils/functional.py", line 268, in inner
    return func(_wrapped, *args)
           ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'has_usable_verified_otp_device'
"GET /verify_2fa/ HTTP/1.0" 500 72215
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Forbidden (CSRF token from POST incorrect.): /login/
"POST /login/ HTTP/1.0" 403 2518
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
"GET /login HTTP/1.0" 200 845
"POST /login HTTP/1.0" 302 0
"GET / HTTP/1.0" 200 21317
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /login HTTP/1.0" 200 845
"GET / HTTP/1.0" 200 21317
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
"GET /api/users HTTP/1.1" 301 0
"GET /api/users/ HTTP/1.1" 200 5651
"GET /static/rest_framework/css/prettify.css HTTP/1.1" 200 817
"GET /static/rest_framework/css/bootstrap-tweaks.css HTTP/1.1" 200 3385
"GET /static/rest_framework/js/ajax-form.js HTTP/1.1" 200 3597
"GET /static/rest_framework/js/csrf.js HTTP/1.1" 200 1719
"GET /static/rest_framework/css/default.css HTTP/1.1" 200 1152
"GET /static/rest_framework/js/default.js HTTP/1.1" 200 1268
"GET /static/rest_framework/js/prettify-min.js HTTP/1.1" 200 13632
"GET /static/rest_framework/js/bootstrap.min.js HTTP/1.1" 200 39680
"GET /static/rest_framework/js/jquery-3.5.1.min.js HTTP/1.1" 200 89476
"GET /static/rest_framework/css/bootstrap.min.css HTTP/1.1" 200 121457
"GET /static/rest_framework/img/grid.png HTTP/1.1" 200 1458
"GET /api/users/1 HTTP/1.1" 301 0
"GET /api/users/1/ HTTP/1.1" 200 5912
"GET /login HTTP/1.0" 301 0
"GET /login/ HTTP/1.0" 200 13751
"POST /login/ HTTP/1.0" 302 0
"GET / HTTP/1.0" 200 12084
"GET /exemple HTTP/1.0" 200 373
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET / HTTP/1.0" 200 12084
"GET /login/ HTTP/1.0" 200 1664
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=28874cfab8d48e933b4729709782841bdd71b1ba16a184209ec1fd8caf56923f HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=28874cfab8d48e933b4729709782841bdd71b1ba16a184209ec1fd8caf56923f HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/28874cfab8d48e933b4729709782841bdd71b1ba16a184209ec1fd8caf56923f/ HTTP/1.0" 302 0
"GET / HTTP/1.0" 200 12084
"GET /login/ HTTP/1.0" 200 1664
"GET /register HTTP/1.0" 200 1900
"GET /login/ HTTP/1.0" 200 1664
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=3e64f2d9c4cf209f31d3b01a980e6c4c980ae353c89024eb92eb44fa94606648 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=3e64f2d9c4cf209f31d3b01a980e6c4c980ae353c89024eb92eb44fa94606648 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/3e64f2d9c4cf209f31d3b01a980e6c4c980ae353c89024eb92eb44fa94606648/ HTTP/1.0" 302 0
"GET / HTTP/1.0" 200 12084
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
"GET /login/ HTTP/1.0" 200 1664
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=31f3d73e7305e77b2c94161fd04aa7221b0f24016ddaa9b27b234575d1010dea HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=31f3d73e7305e77b2c94161fd04aa7221b0f24016ddaa9b27b234575d1010dea HTTP/1.0" 302 0
Internal Server Error: /exchange_code_for_access_token/31f3d73e7305e77b2c94161fd04aa7221b0f24016ddaa9b27b234575d1010dea/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 916, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 637, in get
    raise self.model.DoesNotExist(
hello_django.models.user_list.DoesNotExist: user_list matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 170, in exchange_code_for_access_token
    user, created = user_list.objects.get_or_create(username=user_data['login'])
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 923, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 658, in create
    obj.save(force_insert=True, using=self.db)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/usr/local/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/models.py", line 50, in sync_user_to_auth_user
    User.objects.create_user(
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 161, in create_user
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/models.py", line 155, in _create_user
    user.save(using=self._db)
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "auth_user_username_key"
DETAIL:  Key (username)=(lseiberr) already exists.

"GET /exchange_code_for_access_token/31f3d73e7305e77b2c94161fd04aa7221b0f24016ddaa9b27b234575d1010dea/ HTTP/1.0" 500 209283
"GET /login/ HTTP/1.0" 200 13751
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=69552ae45debcecfbc1aa107477fefac1eb85e9faa3f66bcc185ec9361baa5fb HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=69552ae45debcecfbc1aa107477fefac1eb85e9faa3f66bcc185ec9361baa5fb HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/69552ae45debcecfbc1aa107477fefac1eb85e9faa3f66bcc185ec9361baa5fb/ HTTP/1.0" 302 0
"GET / HTTP/1.0" 200 12084
"GET /login/ HTTP/1.0" 200 1664
"GET /connexion_42/? HTTP/1.0" 302 0
"GET /redirection_apres_authentification?code=cc6888912e9ffa6b241770df0ab25cc9ab55a6696855babfdc8ddd064e1e5cd1 HTTP/1.0" 301 0
"GET /redirection_apres_authentification/?code=cc6888912e9ffa6b241770df0ab25cc9ab55a6696855babfdc8ddd064e1e5cd1 HTTP/1.0" 302 0
"GET /exchange_code_for_access_token/cc6888912e9ffa6b241770df0ab25cc9ab55a6696855babfdc8ddd064e1e5cd1/ HTTP/1.0" 302 0
"GET / HTTP/1.0" 200 12084
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
/usr/src/app/hello_django/settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
HTTP GET / 200 [0.29, 172.18.0.5:37852]
Not Found: /apple-touch-icon-precomposed.png
HTTP GET /apple-touch-icon-precomposed.png 404 [0.24, 172.18.0.5:37858]
Not Found: /apple-touch-icon.png
HTTP GET /apple-touch-icon.png 404 [0.11, 172.18.0.5:37872]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /register/ 200 [0.05, 172.18.0.5:52082]
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column "intra" of relation "django_user_list" does not exist
LINE 1: ..._picture", "status", "last_login", "double_auth", "intra", "...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 86, in register_view
    form.save()
  File "/usr/local/lib/python3.11/site-packages/django/forms/models.py", line 542, in save
    self.instance.save()
  File "/usr/src/app/hello_django/models.py", line 46, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: column "intra" of relation "django_user_list" does not exist
LINE 1: ..._picture", "status", "last_login", "double_auth", "intra", "...
                                                             ^

HTTP POST /register/ 500 [1.01, 172.18.0.5:57214]
Not Found: /favicon.ico
HTTP GET /favicon.ico 404 [0.11, 172.18.0.5:33662]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column "intra" of relation "django_user_list" does not exist
LINE 1: ..._picture", "status", "last_login", "double_auth", "intra", "...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 86, in register_view
    form.save()
  File "/usr/local/lib/python3.11/site-packages/django/forms/models.py", line 542, in save
    self.instance.save()
  File "/usr/src/app/hello_django/models.py", line 46, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: column "intra" of relation "django_user_list" does not exist
LINE 1: ..._picture", "status", "last_login", "double_auth", "intra", "...
                                                             ^

HTTP POST /register/ 500 [1.47, 172.18.0.5:42184]
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column "intra" of relation "django_user_list" does not exist
LINE 1: ..._picture", "status", "last_login", "double_auth", "intra", "...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 86, in register_view
    form.save()
  File "/usr/local/lib/python3.11/site-packages/django/forms/models.py", line 542, in save
    self.instance.save()
  File "/usr/src/app/hello_django/models.py", line 46, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: column "intra" of relation "django_user_list" does not exist
LINE 1: ..._picture", "status", "last_login", "double_auth", "intra", "...
                                                             ^

HTTP POST /register/ 500 [3.57, 172.19.0.5:57370]
Watching for file changes with StatReloader
HTTP POST /register/ 302 [5.49, 172.20.0.5:39702]
HTTP GET /login/ 200 [0.08, 172.20.0.5:39962]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET / 200 [0.12, 172.20.0.5:43246]
HTTP GET /login/ 200 [0.04, 172.20.0.5:43256]
HTTP GET /register/ 200 [0.09, 172.20.0.5:43272]
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 87, in register_view
    generer_qr_code()
TypeError: generer_qr_code() missing 2 required positional arguments: 'request' and 'pk'
HTTP POST /register/ 500 [5.87, 172.20.0.5:57864]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 87, in register_view
    generer_qr_code(12)
TypeError: generer_qr_code() missing 1 required positional argument: 'pk'
HTTP POST /register/ 500 [2.30, 172.20.0.5:58848]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 87, in register_view
    generer_qr_code(user.id)
TypeError: generer_qr_code() missing 1 required positional argument: 'pk'
HTTP POST /register/ 500 [1.87, 172.20.0.5:39702]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 87, in register_view
    generer_qr_code(user.id)
  File "/usr/src/app/hello_django/views.py", line 344, in generer_qr_code
    utilisateur = get_object_or_404(user_list, pk=pk)
                  ^^^^^^^^^^^^^^^^^
NameError: name 'get_object_or_404' is not defined
HTTP POST /register/ 500 [2.11, 172.20.0.5:47706]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 88, in register_view
    generer_qr_code(user.id)
  File "/usr/src/app/hello_django/views.py", line 350, in generer_qr_code
    utilisateur.qr_code.save(f'qr_code_{utilisateur.id}.png', buffer.getvalue())
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/files.py", line 93, in save
    self.name = self.storage.save(name, content, max_length=self.field.max_length)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/files/storage/base.py", line 38, in save
    name = self._save(name, content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/files/storage/filesystem.py", line 110, in _save
    for chunk in content.chunks():
  File "/usr/local/lib/python3.11/site-packages/django/core/files/base.py", line 60, in chunks
    data = self.read(chunk_size)
           ^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/files/utils.py", line 42, in <lambda>
    read = property(lambda self: self.file.read)
                                 ^^^^^^^^^^^^^^
AttributeError: 'bytes' object has no attribute 'read'
HTTP POST /register/ 500 [2.30, 172.20.0.5:55748]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 88, in register_view
    generer_qr_code(user.id)
  File "/usr/src/app/hello_django/views.py", line 346, in generer_qr_code
    qr_code = make(user.id)
                   ^^^^^^^
AttributeError: 'int' object has no attribute 'id'
HTTP POST /register/ 500 [2.10, 172.20.0.5:56534]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 88, in register_view
    generer_qr_code(12)
  File "/usr/src/app/hello_django/views.py", line 346, in generer_qr_code
    qr_code = make(user.id)
                   ^^^^^^^
AttributeError: 'int' object has no attribute 'id'
HTTP POST /register/ 500 [1.92, 172.20.0.5:44444]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'user_list'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 89, in register_view
    afficher_qr_code(user)
  File "/usr/src/app/hello_django/views.py", line 352, in afficher_qr_code
    utilisateur = get_object_or_404(user_list, pk=pk)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 85, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 623, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 341, in get_prep_lookup
    return super().get_prep_lookup()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 85, in get_prep_lookup
    return self.lhs.output_field.get_prep_value(self.rhs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <user_list: 4kaka12344f>.
HTTP POST /register/ 500 [3.70, 172.20.0.5:51240]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /register/
HTTP POST /register/ 404 [2.51, 172.20.0.5:48540]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /login/ 200 [0.03, 172.20.0.5:32964]
HTTP GET / 200 [0.02, 172.20.0.5:36170]
HTTP GET /register/ 200 [0.04, 172.20.0.5:36186]
HTTP POST /register/ 200 [0.08, 172.20.0.5:52660]
HTTP POST /register/ 200 [0.08, 172.20.0.5:41500]
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 89, in register_view
    afficher_qr_code(4)
  File "/usr/src/app/hello_django/views.py", line 353, in afficher_qr_code
    return render(request, 'qr_code.html', {'utilisateur': utilisateur})
                  ^^^^^^^
NameError: name 'request' is not defined
HTTP POST /register/ 500 [1.34, 172.20.0.5:44636]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 89, in register_view
    afficher_qr_code(4)
TypeError: afficher_qr_code() missing 1 required positional argument: 'pk'
HTTP POST /register/ 500 [2.67, 172.20.0.5:54612]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP POST /register/ 200 [0.11, 172.20.0.5:39680]
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader_tags.py", line 132, in render
    compiled_parent = self.get_parent(context)
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader_tags.py", line 129, in get_parent
    return self.find_template(parent, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader_tags.py", line 107, in find_template
    template, origin = context.template.engine.find_template(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/engine.py", line 161, in find_template
    raise TemplateDoesNotExist(name, tried=tried)
django.template.exceptions.TemplateDoesNotExist: base.html

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 89, in register_view
    afficher_qr_code(request, 4)
  File "/usr/src/app/hello_django/views.py", line 353, in afficher_qr_code
    return render(request, 'qr_code.html', {'utilisateur': utilisateur})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/backends/django.py", line 63, in render
    reraise(exc, self.backend)
  File "/usr/local/lib/python3.11/site-packages/django/template/backends/django.py", line 84, in reraise
    raise new from exc
django.template.exceptions.TemplateDoesNotExist: base.html
HTTP POST /register/ 500 [1.73, 172.20.0.5:43758]
HTTP POST /register/ 302 [1.75, 172.20.0.5:33324]
HTTP GET /login/ 200 [0.01, 172.20.0.5:35318]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /register/ 200 [0.04, 172.20.0.5:52124]
HTTP POST /register/ 200 [1.99, 172.20.0.5:55196]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /register/ 200 [0.03, 172.20.0.5:57058]
HTTP POST /register/ 200 [1.36, 172.20.0.5:41610]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP POST /register/ 200 [1.84, 172.20.0.5:54350]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 880, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'ImageFieldFile' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 90, in register_view
    return afficher_qr_code(request, user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 353, in afficher_qr_code
    return render(request, 'qr_code.html', {'utilisateur': user})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader_tags.py", line 54, in render
    result = self.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1064, in render
    output = self.filter_expression.resolve(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 715, in resolve
    obj = self.var.resolve(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 847, in resolve
    value = self._resolve_lookup(context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 890, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/files.py", line 66, in url
    self._require_file()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/files.py", line 41, in _require_file
    raise ValueError(
ValueError: The 'qr_code' attribute has no file associated with it.
HTTP POST /register/ 500 [2.89, 172.20.0.5:38282]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 880, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'ImageFieldFile' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 90, in register_view
    return afficher_qr_code(request, user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 353, in afficher_qr_code
    return render(request, 'qr_code.html', {'utilisateur': user})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader_tags.py", line 54, in render
    result = self.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1064, in render
    output = self.filter_expression.resolve(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 715, in resolve
    obj = self.var.resolve(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 847, in resolve
    value = self._resolve_lookup(context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 890, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/files.py", line 66, in url
    self._require_file()
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/files.py", line 41, in _require_file
    raise ValueError(
ValueError: The 'qr_code' attribute has no file associated with it.
HTTP POST /register/ 500 [2.17, 172.20.0.5:42216]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP POST /register/ 200 [2.81, 172.20.0.5:55820]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column "jwt_token" of relation "django_user_list" does not exist
LINE 1: ... "last_login", "double_auth", "intra", "qr_code", "jwt_token...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 89, in register_view
    form.save()
  File "/usr/local/lib/python3.11/site-packages/django/forms/models.py", line 542, in save
    self.instance.save()
  File "/usr/src/app/hello_django/models.py", line 47, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: column "jwt_token" of relation "django_user_list" does not exist
LINE 1: ... "last_login", "double_auth", "intra", "qr_code", "jwt_token...
                                                             ^

HTTP POST /register/ 500 [1.12, 172.20.0.5:38290]
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 91, in register_view
    generer_qr_code(user)
  File "/usr/src/app/hello_django/views.py", line 360, in generer_qr_code
    return HttpResponse(json.dumps({'jwt_token': jwt_token.decode('utf-8')}), content_type='application/json')
                        ^^^^
NameError: name 'json' is not defined
HTTP POST /register/ 500 [6.56, 172.21.0.5:46604]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /register/ 200 [0.06, 172.21.0.5:56070]
HTTP GET / 200 [0.03, 172.21.0.5:37400]
HTTP GET /register/ 200 [0.04, 172.21.0.5:47560]
HTTP POST /register/ 200 [2.25, 172.21.0.5:48098]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 92, in register_view
    generer_qr_code(user)
  File "/usr/src/app/hello_django/views.py", line 356, in generer_qr_code
    logger.critical(user.get('jwt_token'))
                    ^^^^^^^^
AttributeError: 'user_list' object has no attribute 'get'
HTTP POST /register/ 500 [1.84, 172.21.0.5:60250]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP POST /register/ 200 [1.97, 172.21.0.5:41574]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP POST /register/ 200 [0.05, 172.21.0.5:45304]
HTTP POST /register/ 200 [2.07, 172.21.0.5:41282]
Not Found: /nothing
HTTP GET /nothing 404 [0.04, 172.21.0.5:44464]
Not Found: /register/register/
HTTP GET /register/register/ 404 [0.04, 172.21.0.5:44468]
HTTP GET /register/ 200 [0.02, 172.21.0.5:44482]
HTTP GET /register/ 200 [0.03, 172.21.0.5:56204]
HTTP POST /register/ 200 [2.01, 172.21.0.5:48120]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
HTTP POST /register/ 200 [1.67, 172.21.0.5:43978]
HTTP POST /register/ 200 [1.73, 172.21.0.5:58422]
HTTP GET /login/ 200 [0.05, 172.21.0.5:59224]
HTTP POST /login/ 302 [1.04, 172.21.0.5:38752]
Not Found: /login/two_factor_login.html
HTTP GET /login/two_factor_login.html 404 [0.02, 172.21.0.5:38760]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP POST /login/ 200 [1.51, 172.21.0.5:50014]
HTTP POST /login/ 302 [0.01, 172.21.0.5:37846]
HTTP GET /login/ 200 [0.02, 172.21.0.5:37856]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET / 200 [0.04, 172.21.0.5:34356]
HTTP GET /login/ 200 [0.03, 172.21.0.5:34372]
HTTP POST /login/ 302 [6.55, 172.21.0.5:56700]
HTTP GET / 200 [0.06, 172.21.0.5:45982]
HTTP GET /api/get_friends/ 200 [0.08, 172.21.0.5:45992]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.21.0.5:45996]
HTTP GET /api/get_friends/ 200 [0.06, 172.21.0.5:46010]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.21.0.5:46022]
HTTP GET /api/get_friends/ 200 [0.07, 172.21.0.5:46024]
HTTP GET /api/get_friend_requests/ 200 [0.12, 172.21.0.5:46028]
HTTP GET /api/get_friend_requests/ 200 [0.17, 172.21.0.5:46040]
HTTP GET /api/get_friends/ 200 [0.18, 172.21.0.5:46030]
Forbidden (CSRF token from POST incorrect.): /login/
HTTP POST /login/ 403 [0.02, 172.21.0.5:52938]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET / 200 [0.06, 172.21.0.5:34300]
HTTP GET /api/get_friends/ 200 [0.07, 172.21.0.5:34314]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.21.0.5:34318]
HTTP GET /api/get_friends/ 200 [0.09, 172.21.0.5:34334]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.21.0.5:34344]
HTTP GET /api/get_friends/ 200 [0.04, 172.21.0.5:34346]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:34348]
HTTP GET /api/get_friends/ 200 [0.05, 172.21.0.5:34350]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.21.0.5:34352]
HTTP GET /api/get_friends/ 200 [0.03, 172.21.0.5:34362]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:34376]
HTTP GET /api/get_friends/ 200 [0.06, 172.21.0.5:34384]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.21.0.5:34406]
HTTP GET /ranking/ 200 [0.12, 172.21.0.5:34394]
HTTP GET /api/get_friends/ 200 [0.03, 172.21.0.5:43758]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:43770]
HTTP GET /api/get_friends/ 200 [0.03, 172.21.0.5:43774]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:43788]
HTTP GET /api/get_friends/ 200 [0.04, 172.21.0.5:43796]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:43808]
HTTP GET /api/get_friends/ 200 [0.03, 172.21.0.5:43812]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.21.0.5:43814]
HTTP GET /api/get_friends/ 200 [0.04, 172.21.0.5:43816]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:43830]
HTTP GET /api/get_friends/ 200 [0.04, 172.21.0.5:43832]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:43838]
HTTP GET /api/get_friends/ 200 [0.04, 172.21.0.5:43848]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:43858]
HTTP GET /api/get_friends/ 200 [0.11, 172.21.0.5:43870]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:43876]
HTTP GET /api/get_friends/ 200 [0.04, 172.21.0.5:43882]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.21.0.5:43890]
HTTP GET /api/get_friends/ 200 [0.04, 172.21.0.5:43906]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:43922]
HTTP GET /api/get_friends/ 200 [0.06, 172.21.0.5:55852]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.21.0.5:55866]
HTTP GET /api/get_friends/ 200 [0.03, 172.21.0.5:55874]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:55888]
HTTP GET /api/get_friends/ 200 [0.07, 172.21.0.5:55904]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:55914]
HTTP GET /api/get_friends/ 200 [0.03, 172.21.0.5:55928]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:55932]
HTTP GET /api/get_friends/ 200 [0.05, 172.21.0.5:55948]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.21.0.5:55950]
HTTP GET /api/get_friends/ 200 [0.19, 172.21.0.5:55956]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.21.0.5:55964]
HTTP GET /api/get_friends/ 200 [0.06, 172.21.0.5:55980]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:55994]
HTTP GET /api/get_friends/ 200 [0.07, 172.21.0.5:55998]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.21.0.5:56010]
HTTP GET /api/get_friends/ 200 [0.03, 172.21.0.5:56024]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.21.0.5:56026]
HTTP GET /api/get_friends/ 200 [0.03, 172.21.0.5:56042]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:56052]
HTTP GET /api/get_friends/ 200 [0.03, 172.21.0.5:51386]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.21.0.5:51400]
HTTP GET /api/get_friends/ 200 [0.04, 172.21.0.5:51406]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.21.0.5:51408]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.02, 172.21.0.5:51412]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f63331f6310>>.
HTTP GET /api/get_friend_requests/ 500 [0.18, 172.21.0.5:51414]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.21.0.5:51416]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f633322e8d0>>.
HTTP GET /api/get_friend_requests/ 500 [0.08, 172.21.0.5:51424]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.21.0.5:51436]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f63331df490>>.
HTTP GET /api/get_friend_requests/ 500 [0.08, 172.21.0.5:51450]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.21.0.5:51464]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f63380e37d0>>.
HTTP GET /api/get_friend_requests/ 500 [0.13, 172.21.0.5:51472]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.21.0.5:51480]
HTTP GET /ranking/ 200 [0.05, 172.21.0.5:51492]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f6332977f50>>.
HTTP GET /api/get_friend_requests/ 500 [0.10, 172.21.0.5:51496]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.02, 172.21.0.5:51498]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f6332925510>>.
HTTP GET /api/get_friend_requests/ 500 [0.07, 172.21.0.5:51500]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.21.0.5:51510]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f6333235dd0>>.
HTTP GET /api/get_friend_requests/ 500 [0.08, 172.21.0.5:51514]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.21.0.5:51528]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f6332942610>>.
HTTP GET /api/get_friend_requests/ 500 [0.07, 172.21.0.5:51542]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.21.0.5:40690]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f63380eeb50>>.
HTTP GET /api/get_friend_requests/ 500 [0.07, 172.21.0.5:40696]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.04, 172.21.0.5:40708]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f633321e510>>.
HTTP GET /api/get_friend_requests/ 500 [0.19, 172.21.0.5:40714]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.21.0.5:40720]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f633326cc90>>.
HTTP GET /api/get_friend_requests/ 500 [0.06, 172.21.0.5:40722]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.21.0.5:40728]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f633294b710>>.
HTTP GET /api/get_friend_requests/ 500 [0.06, 172.21.0.5:40738]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.03, 172.21.0.5:40748]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f6332941f90>>.
HTTP GET /api/get_friend_requests/ 500 [0.08, 172.21.0.5:40758]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.21.0.5:40760]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f63331f6b10>>.
HTTP GET /api/get_friend_requests/ 500 [0.08, 172.21.0.5:40776]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.03, 172.21.0.5:40778]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f6332958590>>.
HTTP GET /api/get_friend_requests/ 500 [0.07, 172.21.0.5:40780]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.02, 172.21.0.5:40784]
HTTP GET / 200 [0.01, 172.21.0.5:40796]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 335, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f63331f6bd0>>.
HTTP GET /api/get_friend_requests/ 500 [0.27, 172.21.0.5:40802]
HTTP GET /login/ 200 [0.03, 172.21.0.5:39388]
HTTP POST /login/ 302 [1.53, 172.21.0.5:39404]
HTTP GET / 200 [0.03, 172.21.0.5:39416]
HTTP GET /api/get_friends/ 200 [0.07, 172.21.0.5:39426]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.21.0.5:39422]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.21.0.5:39436]
HTTP GET /api/get_friends/ 200 [0.06, 172.21.0.5:39430]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.21.0.5:34278]
HTTP GET /api/get_friends/ 200 [0.06, 172.21.0.5:34264]
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Forbidden (CSRF token from POST incorrect.): /login/
HTTP POST /login/ 403 [0.06, 172.21.0.5:50910]
Forbidden (CSRF token from POST incorrect.): /login/
HTTP POST /login/ 403 [0.02, 172.21.0.5:39984]
Watching for file changes with StatReloader
HTTP GET / 200 [0.18, 172.22.0.5:50266]
HTTP GET /api/get_friends/ 200 [0.17, 172.22.0.5:50282]
HTTP GET /api/get_friend_requests/ 200 [0.12, 172.22.0.5:50284]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:50292]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:46746]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:46762]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:46764]
HTTP GET /api/get_friends/ 200 [0.07, 172.22.0.5:46780]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:46790]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:46802]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:46810]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:46820]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.22.0.5:46826]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:46842]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:46848]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:46852]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:46862]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:46874]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:46886]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:46892]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.22.0.5:46902]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:46918]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:46928]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:46932]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:56774]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:56776]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:56788]
HTTP GET /api/get_friends/ 200 [0.07, 172.22.0.5:56792]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:56800]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:56816]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:56820]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:56836]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:56844]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:56856]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:56872]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:56880]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:56896]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:56898]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.22.0.5:56908]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:56922]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.22.0.5:56936]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:56948]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:56954]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.02, 172.22.0.5:56958]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 331, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ff08ed7bb10>>.
HTTP GET /api/get_friend_requests/ 500 [0.19, 172.22.0.5:40020]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.03, 172.22.0.5:40024]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 331, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ff08ee3f890>>.
HTTP GET /api/get_friend_requests/ 500 [0.22, 172.22.0.5:40040]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.03, 172.22.0.5:40050]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 331, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ff08ee3f250>>.
HTTP GET /api/get_friend_requests/ 500 [0.42, 172.22.0.5:40058]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.04, 172.22.0.5:40060]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 331, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ff08edc0a90>>.
HTTP GET /api/get_friend_requests/ 500 [0.13, 172.22.0.5:40068]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.22.0.5:40074]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 331, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ff08ee0dad0>>.
HTTP GET /api/get_friend_requests/ 500 [0.08, 172.22.0.5:40090]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.22.0.5:40096]
HTTP GET / 200 [0.02, 172.22.0.5:40112]
HTTP GET /login/ 200 [0.02, 172.22.0.5:40120]
HTTP POST /login/ 200 [1.26, 172.22.0.5:54580]
HTTP POST /login/ 302 [0.02, 172.22.0.5:54594]
HTTP GET /login/ 200 [0.01, 172.22.0.5:54600]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /login/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 114, in login_view
    return redirect('two_fa')
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 48, in redirect
    return redirect_class(resolve_url(to, *args, **kwargs))
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 145, in resolve_url
    return reverse(to, args=args, kwargs=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/resolvers.py", line 828, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'two_fa' not found. 'two_fa' is not a valid view function or pattern name.
HTTP POST /login/ 500 [1.42, 172.22.0.5:40550]
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/urls.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET / 200 [0.04, 172.22.0.5:48022]
HTTP GET /login/ 200 [0.03, 172.22.0.5:48026]
HTTP POST /login/ 302 [1.50, 172.22.0.5:48028]
HTTP GET /login/ 200 [0.02, 172.22.0.5:38692]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /login/ 200 [0.05, 172.22.0.5:34450]
HTTP GET /login/ 200 [0.10, 172.22.0.5:34452]
HTTP POST /login/ 302 [3.20, 172.22.0.5:34392]
HTTP GET /two-factor-login/ 200 [0.04, 172.22.0.5:34394]
HTTP POST /two-factor-login/ 200 [0.06, 172.22.0.5:46766]
HTTP GET / 200 [0.05, 172.22.0.5:58106]
HTTP GET /api/get_friend_requests/ 200 [0.13, 172.22.0.5:58124]
HTTP GET /api/get_friends/ 200 [0.15, 172.22.0.5:58120]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:58128]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.22.0.5:58140]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:58144]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:58154]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:58158]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:58174]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.22.0.5:58188]
HTTP GET /api/get_friends/ 200 [0.09, 172.22.0.5:58178]
HTTP GET /api/get_friends/ 200 [0.14, 172.22.0.5:60946]
HTTP GET /api/get_friend_requests/ 200 [0.17, 172.22.0.5:60960]
HTTP GET /api/get_friends/ 200 [0.12, 172.22.0.5:60974]
HTTP GET /api/get_friend_requests/ 200 [0.12, 172.22.0.5:60970]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:60982]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.22.0.5:60998]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:32782]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.22.0.5:32784]
HTTP GET /api/get_friends/ 200 [0.09, 172.22.0.5:32796]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.22.0.5:32798]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:32802]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:32804]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /api/get_friends/ 200 [0.14, 172.22.0.5:42094]
HTTP GET /api/get_friend_requests/ 200 [0.14, 172.22.0.5:42098]
HTTP GET /api/get_friend_requests/ 200 [0.18, 172.22.0.5:42128]
HTTP GET /api/get_friends/ 200 [0.26, 172.22.0.5:42114]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:42136]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:42142]
HTTP GET /api/get_friend_requests/ 200 [0.14, 172.22.0.5:42172]
HTTP GET /api/get_friends/ 200 [0.30, 172.22.0.5:42158]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:42186]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.22.0.5:42188]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.22.0.5:42196]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:42206]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.22.0.5:42220]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:42222]
HTTP GET /api/get_friends/ 200 [0.07, 172.22.0.5:58072]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.22.0.5:58058]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:58074]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:58076]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.22.0.5:58090]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:58104]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.22.0.5:58112]
HTTP GET /api/get_friends/ 200 [0.12, 172.22.0.5:58128]
HTTP GET /api/get_friends/ 200 [0.09, 172.22.0.5:58134]
HTTP GET /api/get_friend_requests/ 200 [0.10, 172.22.0.5:58146]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:58162]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.22.0.5:58156]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:58180]
HTTP GET /api/get_friend_requests/ 200 [0.12, 172.22.0.5:58176]
HTTP GET /api/get_friend_requests/ 200 [0.10, 172.22.0.5:58182]
HTTP GET /api/get_friends/ 200 [0.12, 172.22.0.5:58184]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:58208]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.22.0.5:58200]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:43344]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.22.0.5:43336]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:43352]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:43348]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:43358]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:43354]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:43362]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:43360]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.06, 172.22.0.5:43382]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 346, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f4019784890>>.
HTTP GET /api/get_friend_requests/ 500 [0.17, 172.22.0.5:43372]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.06, 172.22.0.5:43404]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 346, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f401975ed90>>.
HTTP GET /api/get_friend_requests/ 500 [0.17, 172.22.0.5:43394]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.07, 172.22.0.5:43416]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 346, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f4019694990>>.
HTTP GET /api/get_friend_requests/ 500 [0.17, 172.22.0.5:43406]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.05, 172.22.0.5:43426]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 346, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f401972f290>>.
HTTP GET /api/get_friend_requests/ 500 [0.11, 172.22.0.5:43418]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [1.23, 172.22.0.5:43432]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 346, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f40185be750>>.
HTTP GET / 200 [1.99, 172.22.0.5:43242]
HTTP GET /register/ 200 [0.05, 172.22.0.5:43252]
HTTP POST /register/ 200 [1.33, 172.22.0.5:46874]
HTTP GET /login/ 200 [0.05, 172.22.0.5:32986]
HTTP POST /login/ 302 [1.44, 172.22.0.5:52450]
HTTP GET /two-factor-login/ 302 [0.04, 172.22.0.5:52458]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.02, 172.22.0.5:52466]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP POST /login/ 302 [5.23, 172.22.0.5:36276]
HTTP GET /two-factor-login/ 200 [0.04, 172.22.0.5:37596]
Internal Server Error: /two-factor-login/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapper_view
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 50, in two_factor_login
    logout(request, request.user)
    ^^^^^^
NameError: name 'logout' is not defined
HTTP POST /two-factor-login/ 500 [0.10, 172.22.0.5:37606]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Forbidden (CSRF token from POST incorrect.): /login/
HTTP POST /login/ 403 [0.04, 172.22.0.5:58590]
Forbidden (CSRF token from POST incorrect.): /login/
HTTP POST /login/ 403 [0.02, 172.22.0.5:49566]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Forbidden (CSRF token from POST incorrect.): /login/
HTTP POST /login/ 403 [0.07, 172.22.0.5:59896]
Forbidden (CSRF token from POST incorrect.): /login/
HTTP POST /login/ 403 [0.08, 172.22.0.5:48158]
HTTP GET /login/ 200 [0.03, 172.22.0.5:55946]
HTTP GET /login/ 200 [0.01, 172.22.0.5:55956]
HTTP GET / 200 [0.05, 172.22.0.5:46908]
HTTP GET /login/ 200 [0.03, 172.22.0.5:46914]
HTTP POST /login/ 302 [1.82, 172.22.0.5:51146]
HTTP GET /two-factor-login/ 200 [0.05, 172.22.0.5:51150]
HTTP POST /two-factor-login/ 200 [0.05, 172.22.0.5:51160]
HTTP POST /two-factor-login/ 200 [0.04, 172.22.0.5:52450]
HTTP POST /two-factor-login/ 200 [0.04, 172.22.0.5:34486]
HTTP POST /two-factor-login/ 200 [0.04, 172.22.0.5:34496]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET / 200 [0.07, 172.22.0.5:51438]
HTTP GET /api/get_friends/ 200 [0.32, 172.22.0.5:51454]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.22.0.5:51470]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:51478]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:51490]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:51492]
HTTP GET /api/get_friend_requests/ 200 [0.11, 172.22.0.5:51498]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:51512]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:51516]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:51532]
HTTP GET /api/get_friend_requests/ 200 [0.10, 172.22.0.5:51536]
HTTP GET /api/get_friends/ 200 [0.12, 172.22.0.5:51546]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:51550]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:51560]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:51564]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:34252]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:34262]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:34264]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.22.0.5:34266]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:34274]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.22.0.5:34288]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:34292]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:34296]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:34306]
HTTP GET /api/get_friend_requests/ 200 [0.15, 172.22.0.5:34322]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:34326]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.22.0.5:34338]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:34354]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.22.0.5:34356]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:34370]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.22.0.5:34376]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:34392]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.22.0.5:34396]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:34404]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:34416]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:53890]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:53892]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:53908]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:53910]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:53918]
HTTP GET /api/get_friend_requests/ 200 [0.10, 172.22.0.5:53926]
HTTP GET /api/get_friends/ 200 [0.12, 172.22.0.5:53942]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:53952]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:53954]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:53968]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:53984]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.22.0.5:53988]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:53994]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:54000]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:54014]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fd0f5980f90>>.
HTTP GET /api/get_friend_requests/ 500 [0.24, 172.22.0.5:54022]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.03, 172.22.0.5:54028]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fd0f5947950>>.
HTTP GET /api/get_friend_requests/ 500 [0.25, 172.22.0.5:54040]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.04, 172.22.0.5:54048]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fd0f59d09d0>>.
HTTP GET /api/get_friend_requests/ 500 [0.27, 172.22.0.5:54054]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.02, 172.22.0.5:58936]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fd0f5a18290>>.
HTTP GET /api/get_friend_requests/ 500 [0.13, 172.22.0.5:58952]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.22.0.5:58964]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fd0f5945510>>.
HTTP GET /api/get_friend_requests/ 500 [0.09, 172.22.0.5:58968]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.22.0.5:58980]
HTTP GET / 200 [0.02, 172.22.0.5:58994]
HTTP GET /login/ 200 [0.05, 172.22.0.5:58996]
HTTP GET /register/ 200 [0.03, 172.22.0.5:59006]
HTTP POST /register/ 200 [1.72, 172.22.0.5:51674]
HTTP GET / 200 [0.02, 172.22.0.5:51100]
HTTP GET /login/ 200 [0.04, 172.22.0.5:41200]
HTTP POST /login/ 302 [1.33, 172.22.0.5:43680]
HTTP GET /two-factor-login/ 200 [0.03, 172.22.0.5:43686]
HTTP POST /two-factor-login/ 200 [0.04, 172.22.0.5:43692]
HTTP POST /two-factor-login/ 200 [0.04, 172.22.0.5:34944]
HTTP POST /two-factor-login/ 200 [0.04, 172.22.0.5:34956]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /login/ 200 [0.03, 172.22.0.5:58866]
HTTP GET / 200 [0.05, 172.22.0.5:58878]
HTTP GET / 200 [0.06, 172.22.0.5:58888]
HTTP GET /api/get_friends/ 200 [0.27, 172.22.0.5:58890]
HTTP GET /api/get_friend_requests/ 200 [0.28, 172.22.0.5:58900]
HTTP GET /api/get_friends/ 200 [0.13, 172.22.0.5:58908]
HTTP GET /api/get_friend_requests/ 200 [0.14, 172.22.0.5:58910]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:58920]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.22.0.5:58926]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:58950]
HTTP GET /api/get_friends/ 200 [0.07, 172.22.0.5:58942]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:56580]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:56566]
HTTP GET /api/get_friends/ 200 [0.17, 172.22.0.5:56588]
HTTP GET /api/get_friend_requests/ 200 [0.24, 172.22.0.5:56600]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:56614]
HTTP GET /api/get_friends/ 200 [0.07, 172.22.0.5:56604]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:56644]
HTTP GET /api/get_friends/ 200 [0.07, 172.22.0.5:56628]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:56648]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:56658]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:56676]
HTTP GET /api/get_friends/ 200 [0.07, 172.22.0.5:56664]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:56684]
HTTP GET /api/get_friend_requests/ 200 [0.16, 172.22.0.5:56694]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.22.0.5:56716]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:56706]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:56730]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:56738]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:56756]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:56744]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:49668]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:49676]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:49678]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:49686]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:49698]
HTTP GET /api/get_friends/ 200 [0.07, 172.22.0.5:49690]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:49712]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.22.0.5:49726]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:49752]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:49740]
HTTP GET /api/get_friends/ 200 [0.07, 172.22.0.5:49762]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.22.0.5:49766]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.12, 172.22.0.5:49772]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f3cb014cf50>>.
HTTP GET /api/get_friend_requests/ 500 [0.28, 172.22.0.5:49778]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.10, 172.22.0.5:49792]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f3cb026e1d0>>.
HTTP GET /api/get_friend_requests/ 500 [0.20, 172.22.0.5:49804]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.05, 172.22.0.5:49814]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f3cb0107950>>.
HTTP GET /api/get_friend_requests/ 500 [0.14, 172.22.0.5:49822]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.11, 172.22.0.5:49826]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f3cb0115510>>.
HTTP GET /api/get_friend_requests/ 500 [0.17, 172.22.0.5:49832]
HTTP GET / 200 [0.02, 172.22.0.5:38552]
HTTP GET /register/ 200 [0.04, 172.22.0.5:38566]
HTTP POST /register/ 200 [1.32, 172.22.0.5:58894]
HTTP GET / 200 [0.01, 172.22.0.5:39508]
HTTP GET /login/ 200 [0.03, 172.22.0.5:39522]
HTTP POST /login/ 302 [1.87, 172.22.0.5:38894]
Internal Server Error: /two-factor-login/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapper_view
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 44, in two_factor_login
    logout(request, request.user)
TypeError: logout() takes 1 positional argument but 2 were given
HTTP GET /two-factor-login/ 500 [0.11, 172.22.0.5:38898]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Forbidden (CSRF token from POST incorrect.): /login/
HTTP POST /login/ 403 [0.03, 172.22.0.5:60810]
HTTP GET / 200 [0.05, 172.22.0.5:38736]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:38756]
HTTP GET /api/get_friends/ 200 [0.16, 172.22.0.5:38748]
HTTP GET /api/get_friends/ 200 [0.04, 172.22.0.5:38766]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:38782]
HTTP GET /api/get_friends/ 200 [0.08, 172.22.0.5:38788]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.22.0.5:38802]
HTTP GET /api/get_friends/ 200 [0.07, 172.22.0.5:38816]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.22.0.5:38832]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:38842]
HTTP GET /api/get_friend_requests/ 200 [0.17, 172.22.0.5:38856]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:38864]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:38878]
HTTP GET /api/get_friends/ 200 [0.06, 172.22.0.5:38890]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:38892]
HTTP GET /api/get_friends/ 200 [0.03, 172.22.0.5:38902]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.22.0.5:38910]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:38916]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.22.0.5:38928]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:45826]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:45834]
HTTP GET /api/get_friends/ 200 [0.05, 172.22.0.5:45836]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.22.0.5:45848]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.22.0.5:45860]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fab9101e850>>.
HTTP GET /api/get_friend_requests/ 500 [0.17, 172.22.0.5:45874]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.09, 172.22.0.5:45882]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fab906c2050>>.
HTTP GET /api/get_friend_requests/ 500 [0.32, 172.22.0.5:45892]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.04, 172.22.0.5:45898]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fab906a0610>>.
HTTP GET /api/get_friend_requests/ 500 [0.15, 172.22.0.5:45900]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.02, 172.22.0.5:45910]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 348, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fab910404d0>>.
HTTP GET /api/get_friend_requests/ 500 [0.21, 172.22.0.5:45922]
HTTP GET / 200 [0.04, 172.22.0.5:45928]
HTTP GET /login/ 200 [0.04, 172.22.0.5:45936]
HTTP POST /login/ 302 [1.86, 172.22.0.5:60440]
HTTP GET /two-factor-login/ 200 [0.04, 172.22.0.5:60446]
HTTP POST /two-factor-login/ 302 [0.02, 172.22.0.5:60452]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.02, 172.22.0.5:60458]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Forbidden (CSRF token from POST incorrect.): /login/
HTTP POST /login/ 403 [0.11, 172.22.0.5:59736]
HTTP GET / 200 [0.03, 172.22.0.5:59752]
HTTP GET /login/ 200 [0.06, 172.22.0.5:34286]
HTTP POST /login/ 302 [1.31, 172.22.0.5:34302]
HTTP GET /two-factor-login/ 200 [0.05, 172.22.0.5:34312]
Not Found: /nothing
HTTP GET /nothing 404 [0.05, 172.22.0.5:40662]
HTTP GET / 200 [0.01, 172.22.0.5:33908]
HTTP GET /register/ 200 [0.03, 172.22.0.5:33924]
HTTP POST /register/ 200 [2.33, 172.22.0.5:52996]
HTTP GET / 200 [0.02, 172.22.0.5:43274]
HTTP GET /login/ 200 [0.03, 172.22.0.5:43282]
HTTP POST /login/ 302 [1.70, 172.22.0.5:45554]
HTTP GET /two-factor-login/ 200 [0.05, 172.22.0.5:45564]
Internal Server Error: /two-factor-login/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 46, in two_factor_login
    user_token = request.user.jwt_token
                 ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AnonymousUser' object has no attribute 'jwt_token'
HTTP POST /two-factor-login/ 500 [0.10, 172.22.0.5:45566]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/models.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
HTTP GET / 200 [0.17, 172.23.0.5:36140]
HTTP GET /register/ 200 [0.07, 172.23.0.5:54590]
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column "is_log" of relation "django_user_list" does not exist
LINE 1: ..._picture", "status", "last_login", "double_auth", "is_log", ...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 111, in register_view
    form.save()
  File "/usr/local/lib/python3.11/site-packages/django/forms/models.py", line 542, in save
    self.instance.save()
  File "/usr/src/app/hello_django/models.py", line 48, in save
    super().save(*args, **kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: column "is_log" of relation "django_user_list" does not exist
LINE 1: ..._picture", "status", "last_login", "double_auth", "is_log", ...
                                                             ^

HTTP POST /register/ 500 [2.82, 172.23.0.5:33770]
Watching for file changes with StatReloader
HTTP GET / 200 [0.08, 172.25.0.5:40916]
HTTP GET /register/ 200 [0.05, 172.25.0.5:40918]
HTTP POST /register/ 200 [1.68, 172.25.0.5:54298]
HTTP GET / 200 [0.02, 172.25.0.5:48432]
HTTP GET /register/ 200 [0.03, 172.25.0.5:48440]
HTTP GET /login/ 200 [0.03, 172.25.0.5:48450]
HTTP POST /login/ 302 [1.60, 172.25.0.5:43600]
HTTP GET /two-factor-login/ 200 [0.05, 172.25.0.5:43602]
Internal Server Error: /two-factor-login/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 46, in two_factor_login
    if request.user.is_log:  # Vérifie si l'utilisateur est authentifié
       ^^^^^^^^^^^^^^^^^^^
AttributeError: 'AnonymousUser' object has no attribute 'is_log'
HTTP POST /two-factor-login/ 500 [0.14, 172.25.0.5:43614]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Forbidden (CSRF token from POST incorrect.): /login/
HTTP POST /login/ 403 [0.06, 172.25.0.5:53422]
HTTP GET /login/ 200 [0.02, 172.25.0.5:54914]
HTTP GET / 200 [0.02, 172.25.0.5:52564]
HTTP GET /login/ 200 [0.05, 172.25.0.5:52572]
HTTP POST /login/ 302 [1.42, 172.25.0.5:52576]
HTTP GET /two-factor-login/ 200 [0.04, 172.25.0.5:52584]
HTTP GET /register/ 200 [0.05, 172.25.0.5:56942]
HTTP POST /register/ 200 [1.34, 172.25.0.5:55826]
HTTP GET / 200 [0.02, 172.25.0.5:38652]
HTTP GET /register/ 200 [0.04, 172.25.0.5:36166]
HTTP GET /login/ 200 [0.06, 172.25.0.5:54040]
HTTP POST /login/ 302 [1.47, 172.25.0.5:34984]
HTTP GET /two-factor-login/ 200 [0.06, 172.25.0.5:34990]
Internal Server Error: /two-factor-login/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 47, in two_factor_login
    if userfa.is_log:  # Vérifie si l'utilisateur est authentifié
       ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/utils/functional.py", line 268, in inner
    return func(_wrapped, *args)
           ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AnonymousUser' object has no attribute 'is_log'
HTTP POST /two-factor-login/ 500 [0.09, 172.25.0.5:35004]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET / 200 [0.06, 172.25.0.5:54112]
HTTP GET /register/ 200 [0.09, 172.25.0.5:54128]
HTTP POST /register/ 200 [2.75, 172.25.0.5:40734]
HTTP GET / 200 [0.09, 172.25.0.5:54550]
HTTP GET /login/ 200 [0.08, 172.25.0.5:54552]
HTTP POST /login/ 302 [1.55, 172.25.0.5:37548]
HTTP GET /two-factor-login/ 302 [0.05, 172.25.0.5:37554]
HTTP GET /login/ 200 [0.03, 172.25.0.5:37566]
HTTP POST /login/ 302 [1.34, 172.25.0.5:44816]
HTTP GET /two-factor-login/ 302 [0.05, 172.25.0.5:44820]
HTTP GET /login/ 200 [0.02, 172.25.0.5:44828]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /nothing
HTTP GET /nothing 404 [0.08, 172.25.0.5:47402]
Not Found: /login/login/
HTTP GET /login/login/ 404 [0.04, 172.25.0.5:60096]
HTTP GET /register/ 200 [0.04, 172.25.0.5:60104]
HTTP GET /login/ 200 [0.05, 172.25.0.5:60120]
HTTP POST /login/ 302 [2.49, 172.25.0.5:60134]
HTTP GET /two-factor-login/ 302 [0.03, 172.25.0.5:56292]
HTTP GET /login/ 200 [0.01, 172.25.0.5:56298]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /login/ 200 [0.04, 172.25.0.5:43404]
HTTP POST /login/ 302 [0.78, 172.25.0.5:42308]
HTTP GET /login/ 200 [0.01, 172.25.0.5:42324]
HTTP GET /register/ 200 [0.04, 172.25.0.5:53268]
HTTP POST /register/ 200 [1.48, 172.25.0.5:36484]
HTTP GET / 200 [0.07, 172.25.0.5:41006]
HTTP GET /api/get_friends/ 200 [0.13, 172.25.0.5:41018]
HTTP GET /api/get_friend_requests/ 200 [0.14, 172.25.0.5:41028]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:39382]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:39366]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:39386]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:39396]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:39422]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:39406]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:39430]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:39442]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:39454]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:39464]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:39466]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:39476]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:39490]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:39502]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:39508]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:39518]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:39528]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:39534]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:39540]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:39546]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:50034]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:50032]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:50048]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:50056]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:50072]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:50086]
HTTP GET /api/get_friends/ 200 [0.08, 172.25.0.5:50088]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:50096]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.05, 172.25.0.5:50108]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f95f246ba10>>.
HTTP GET /api/get_friend_requests/ 500 [0.23, 172.25.0.5:50110]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.04, 172.25.0.5:50120]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f95f09bc510>>.
HTTP GET /api/get_friend_requests/ 500 [0.17, 172.25.0.5:50134]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.05, 172.25.0.5:50146]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f95f1abea10>>.
HTTP GET /api/get_friend_requests/ 500 [0.10, 172.25.0.5:50160]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.05, 172.25.0.5:50172]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f95f1b5a590>>.
HTTP GET /api/get_friend_requests/ 500 [0.11, 172.25.0.5:50186]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.10, 172.25.0.5:50202]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f95f00c87d0>>.
HTTP GET /api/get_friend_requests/ 500 [0.18, 172.25.0.5:50204]
HTTP GET / 200 [0.02, 172.25.0.5:50206]
HTTP GET /login/ 200 [0.03, 172.25.0.5:39148]
HTTP POST /login/ 302 [1.25, 172.25.0.5:39158]
HTTP GET /two-factor-login/ 200 [0.07, 172.25.0.5:39164]
HTTP POST /two-factor-login/ 200 [0.05, 172.25.0.5:34648]
HTTP POST /two-factor-login/ 302 [0.02, 172.25.0.5:34650]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.02, 172.25.0.5:34664]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.05, 172.25.0.5:57148]
HTTP POST /two-factor-login/ 302 [0.02, 172.25.0.5:57154]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.02, 172.25.0.5:57164]
HTTP GET /two-factor-login/ 302 [0.02, 172.25.0.5:47446]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.02, 172.25.0.5:47458]
HTTP POST /two-factor-login/ 302 [0.01, 172.25.0.5:47468]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.02, 172.25.0.5:47478]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP POST /two-factor-login/ 302 [0.02, 172.25.0.5:39800]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.03, 172.25.0.5:39816]
HTTP GET /login/ 200 [0.02, 172.25.0.5:34722]
HTTP GET / 200 [0.02, 172.25.0.5:34736]
HTTP GET /register/ 200 [0.03, 172.25.0.5:44802]
HTTP GET /login/ 200 [0.03, 172.25.0.5:44808]
HTTP GET /register/ 200 [0.03, 172.25.0.5:52596]
HTTP POST /register/ 200 [5.21, 172.25.0.5:49774]
HTTP GET / 200 [0.02, 172.25.0.5:56150]
HTTP GET /login/ 200 [0.03, 172.25.0.5:56166]
HTTP POST /login/ 302 [1.42, 172.25.0.5:56182]
HTTP GET /two-factor-login/ 200 [0.09, 172.25.0.5:56188]
HTTP POST /two-factor-login/ 302 [0.08, 172.25.0.5:42182]
HTTP GET /login/ 200 [0.02, 172.25.0.5:42198]
HTTP POST /two-factor-login/ 302 [0.01, 172.25.0.5:46736]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.02, 172.25.0.5:46742]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP POST /two-factor-login/ 302 [0.03, 172.25.0.5:38782]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.03, 172.25.0.5:38788]
HTTP POST /two-factor-login/ 302 [0.01, 172.25.0.5:47184]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.02, 172.25.0.5:47192]
HTTP POST /two-factor-login/ 302 [0.02, 172.25.0.5:59994]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.04, 172.25.0.5:60002]
Forbidden (CSRF token from POST incorrect.): /register/
HTTP POST /register/ 403 [0.02, 172.25.0.5:60008]
HTTP GET / 200 [0.02, 172.25.0.5:56658]
HTTP GET /login/ 200 [0.03, 172.25.0.5:56664]
HTTP POST /login/ 302 [1.36, 172.25.0.5:35124]
HTTP GET /login/ 200 [0.01, 172.25.0.5:35132]
HTTP POST /login/ 302 [1.35, 172.25.0.5:35136]
HTTP GET /two-factor-login/ 200 [0.04, 172.25.0.5:35148]
HTTP POST /two-factor-login/ 302 [0.05, 172.25.0.5:40752]
HTTP GET /login/ 200 [0.02, 172.25.0.5:40760]
Forbidden (CSRF token from POST incorrect.): /login/
HTTP POST /login/ 403 [0.02, 172.25.0.5:40772]
Not Found: /nothing
HTTP GET /nothing 404 [0.02, 172.25.0.5:47256]
HTTP GET / 200 [0.02, 172.25.0.5:47268]
HTTP GET /login/ 200 [0.03, 172.25.0.5:47280]
HTTP POST /login/ 302 [1.47, 172.25.0.5:47286]
HTTP GET /two-factor-login/ 200 [0.05, 172.25.0.5:47298]
HTTP POST /two-factor-login/ 302 [0.05, 172.25.0.5:46634]
HTTP GET / 200 [0.07, 172.25.0.5:46642]
HTTP GET /api/get_friends/ 200 [0.08, 172.25.0.5:46658]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:46662]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:46668]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:46682]
HTTP GET /api/get_friends/ 200 [0.10, 172.25.0.5:46698]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:46714]
HTTP GET /login/ 200 [0.02, 172.25.0.5:33580]
HTTP GET /login/ 200 [0.02, 172.25.0.5:33582]
HTTP GET / 200 [0.03, 172.25.0.5:33594]
HTTP GET /api/get_friend_requests/ 200 [0.23, 172.25.0.5:33608]
HTTP GET /api/get_friends/ 200 [0.26, 172.25.0.5:33602]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:33636]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:33620]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:54236]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:54228]
HTTP GET /api/get_friends/ 200 [0.15, 172.25.0.5:54250]
HTTP GET /api/get_friend_requests/ 200 [0.21, 172.25.0.5:54258]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:54262]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:54272]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:54276]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:54288]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:54302]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:54308]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:54310]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:54314]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:54324]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:54316]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:54350]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:54340]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.05, 172.25.0.5:54354]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 350, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f5fa875edd0>>.
HTTP GET /api/get_friend_requests/ 500 [0.15, 172.25.0.5:54356]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.07, 172.25.0.5:54366]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 350, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f5fa874b3d0>>.
HTTP GET /api/get_friend_requests/ 500 [0.19, 172.25.0.5:54380]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.08, 172.25.0.5:36660]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 350, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f5fa86e60d0>>.
HTTP GET /api/get_friend_requests/ 500 [0.29, 172.25.0.5:36676]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.04, 172.25.0.5:36688]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 350, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f5fa86bb490>>.
HTTP GET /api/get_friend_requests/ 500 [0.09, 172.25.0.5:36698]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.04, 172.25.0.5:36704]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 350, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f5fa8492910>>.
HTTP GET /api/get_friend_requests/ 500 [0.11, 172.25.0.5:36708]
HTTP GET / 200 [0.01, 172.25.0.5:36718]
HTTP GET /register/ 200 [0.03, 172.25.0.5:36726]
HTTP POST /register/ 200 [1.68, 172.25.0.5:40452]
HTTP GET / 200 [0.02, 172.25.0.5:50094]
HTTP GET /login/ 200 [0.03, 172.25.0.5:50098]
HTTP POST /login/ 302 [1.61, 172.25.0.5:50106]
HTTP GET /login/ 200 [0.01, 172.25.0.5:44510]
HTTP GET /login/ 200 [0.03, 172.25.0.5:44522]
HTTP GET / 200 [0.01, 172.25.0.5:44524]
HTTP GET /login/ 200 [0.03, 172.25.0.5:44534]
HTTP POST /login/ 302 [1.59, 172.25.0.5:45868]
HTTP GET /two-factor-login/ 200 [0.05, 172.25.0.5:45880]
HTTP POST /two-factor-login/ 302 [0.04, 172.25.0.5:45892]
HTTP GET /login/ 200 [0.01, 172.25.0.5:45894]
HTTP GET / 200 [0.02, 172.25.0.5:42596]
HTTP GET /login/ 200 [0.04, 172.25.0.5:42600]
HTTP POST /login/ 302 [1.36, 172.25.0.5:55336]
HTTP GET /two-factor-login/ 200 [0.04, 172.25.0.5:55344]
HTTP POST /two-factor-login/ 302 [0.04, 172.25.0.5:55350]
HTTP GET / 200 [0.05, 172.25.0.5:55366]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:55388]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:55374]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:45436]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:45426]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:45446]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:45452]
HTTP GET /api/get_friend_requests/ 200 [0.28, 172.25.0.5:45468]
HTTP GET /api/get_friends/ 200 [0.30, 172.25.0.5:45476]
HTTP GET /api/get_friend_requests/ 200 [0.11, 172.25.0.5:45488]
HTTP GET /api/get_friends/ 200 [0.12, 172.25.0.5:45490]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:45514]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:45500]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:45528]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:45538]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:45550]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:45552]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:45562]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:45564]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:45572]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:45566]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:45576]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:45578]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:32980]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:32992]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:33002]
HTTP GET /api/get_friends/ 200 [0.11, 172.25.0.5:33006]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:33018]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:33016]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:33020]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:33022]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:33034]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:33040]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:33052]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:33050]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:33066]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:33082]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:33096]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:33100]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:33102]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:33118]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:33130]
HTTP GET /api/get_friend_requests/ 200 [0.34, 172.25.0.5:33146]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:50400]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:50414]
HTTP GET /api/get_friend_requests/ 200 [0.12, 172.25.0.5:46910]
HTTP GET /api/get_friends/ 200 [0.57, 172.25.0.5:46894]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.25.0.5:46926]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:46934]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:46950]
HTTP GET /api/get_friends/ 200 [0.10, 172.25.0.5:56076]
HTTP GET /api/get_friend_requests/ 200 [0.11, 172.25.0.5:56080]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:56088]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:56094]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:56096]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:56110]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:56132]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:56120]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:56144]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:56134]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:56154]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:56150]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:56176]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:56166]
HTTP GET /api/get_friends/ 200 [2.03, 172.25.0.5:59260]
HTTP GET /api/get_friend_requests/ 200 [0.99, 172.25.0.5:59262]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:59286]
HTTP GET /api/get_friends/ 200 [0.12, 172.25.0.5:59272]
HTTP GET /api/get_friends/ 200 [0.19, 172.25.0.5:59298]
HTTP GET /api/get_friend_requests/ 200 [0.22, 172.25.0.5:59288]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:59314]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:59326]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:59350]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:59336]
HTTP GET /api/get_friend_requests/ 200 [0.23, 172.25.0.5:59378]
HTTP GET /api/get_friends/ 200 [0.27, 172.25.0.5:59366]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:58200]
HTTP GET /api/get_friend_requests/ 200 [0.11, 172.25.0.5:58206]
HTTP GET /api/get_friends/ 200 [0.46, 172.25.0.5:58210]
HTTP GET /api/get_friend_requests/ 200 [0.46, 172.25.0.5:58214]
HTTP GET /api/get_friends/ 200 [0.63, 172.25.0.5:58216]
HTTP GET /api/get_friend_requests/ 200 [1.53, 172.25.0.5:58232]
HTTP GET /api/get_friends/ 200 [0.59, 172.25.0.5:58240]
HTTP GET /api/get_friends/ 200 [0.35, 172.25.0.5:58244]
HTTP GET /api/get_friend_requests/ 200 [0.62, 172.25.0.5:58248]
HTTP GET /api/get_friends/ 200 [0.38, 172.25.0.5:58262]
HTTP GET /api/get_friends/ 200 [0.08, 172.25.0.5:58268]
HTTP GET /api/get_friend_requests/ 200 [0.45, 172.25.0.5:58284]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:58302]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:58294]
HTTP GET /api/get_friends/ 200 [1.00, 172.25.0.5:58310]
HTTP GET /api/get_friend_requests/ 200 [1.03, 172.25.0.5:58326]
HTTP GET /api/get_friends/ 200 [0.61, 172.25.0.5:56028]
HTTP GET /api/get_friend_requests/ 200 [1.37, 172.25.0.5:56040]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:56042]
HTTP GET /api/get_friends/ 200 [0.24, 172.25.0.5:56048]
HTTP GET /api/get_friend_requests/ 200 [1.13, 172.25.0.5:56058]
HTTP GET /api/get_friends/ 200 [0.87, 172.25.0.5:56060]
HTTP GET /api/get_friend_requests/ 200 [0.29, 172.25.0.5:56078]
HTTP GET /api/get_friends/ 200 [0.46, 172.25.0.5:56072]
HTTP GET /api/get_friend_requests/ 200 [0.11, 172.25.0.5:56084]
HTTP GET /api/get_friends/ 200 [0.13, 172.25.0.5:56082]
HTTP GET /api/get_friend_requests/ 200 [0.10, 172.25.0.5:56098]
HTTP GET /api/get_friends/ 200 [0.12, 172.25.0.5:56086]
HTTP GET /api/get_friend_requests/ 200 [0.11, 172.25.0.5:34006]
HTTP GET /api/get_friends/ 200 [0.19, 172.25.0.5:33992]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:34020]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:34028]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:34044]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:34040]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:34064]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:34050]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:37932]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:37936]
HTTP GET /api/get_friends/ 200 [0.13, 172.25.0.5:37276]
HTTP GET /api/get_friend_requests/ 200 [0.14, 172.25.0.5:37266]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /api/get_friends/ 200 [0.10, 172.25.0.5:49952]
HTTP GET /api/get_friend_requests/ 200 [0.12, 172.25.0.5:49950]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:49956]
HTTP GET /api/get_friends/ 200 [0.08, 172.25.0.5:49972]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:49974]
HTTP GET /api/get_friends/ 200 [0.08, 172.25.0.5:49988]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:49998]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:50008]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:50014]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:50026]
HTTP GET /api/get_friends/ 200 [0.20, 172.25.0.5:50038]
HTTP GET /api/get_friend_requests/ 200 [0.26, 172.25.0.5:50034]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:50062]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:50052]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:39552]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:39560]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:39570]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:39564]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:39578]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:39572]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:39592]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:39580]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.07, 172.25.0.5:39608]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 350, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7efecd52a890>>.
HTTP GET /api/get_friend_requests/ 500 [0.19, 172.25.0.5:39596]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.16, 172.25.0.5:39616]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 350, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7efecd46ef50>>.
HTTP GET /api/get_friend_requests/ 500 [0.19, 172.25.0.5:39614]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.06, 172.25.0.5:39638]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 350, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7efecd5532d0>>.
HTTP GET /api/get_friend_requests/ 500 [0.12, 172.25.0.5:39626]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.05, 172.25.0.5:39662]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 350, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7efecd482b10>>.
HTTP GET /api/get_friend_requests/ 500 [0.13, 172.25.0.5:39646]
HTTP GET / 200 [0.02, 172.25.0.5:39668]
HTTP GET /register/ 200 [0.05, 172.25.0.5:55662]
HTTP POST /register/ 200 [2.16, 172.25.0.5:55666]
HTTP GET / 200 [0.02, 172.25.0.5:59752]
HTTP GET /login/ 200 [0.03, 172.25.0.5:59760]
Internal Server Error: /login/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 129, in login_view
    return redirect('two_factor_login', user=user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 48, in redirect
    return redirect_class(resolve_url(to, *args, **kwargs))
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 145, in resolve_url
    return reverse(to, args=args, kwargs=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/resolvers.py", line 828, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'two_factor_login' with keyword arguments '{'user': <user_list: lui>}' not found. 1 pattern(s) tried: ['two\\-factor\\-login/\\Z']
HTTP POST /login/ 500 [1.93, 172.25.0.5:59764]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET / 200 [0.05, 172.25.0.5:43832]
HTTP GET /login/ 200 [0.03, 172.25.0.5:43846]
HTTP POST /login/ 302 [1.38, 172.25.0.5:43862]
HTTP GET /two-factor-login/ 200 [0.03, 172.25.0.5:43868]
HTTP POST /two-factor-login/ 302 [0.05, 172.25.0.5:55742]
HTTP GET /login/ 200 [0.02, 172.25.0.5:55746]
HTTP GET / 200 [0.03, 172.25.0.5:57896]
HTTP GET /register/ 200 [0.04, 172.25.0.5:57904]
HTTP POST /register/ 200 [1.45, 172.25.0.5:44164]
HTTP GET / 200 [0.02, 172.25.0.5:57526]
HTTP GET /register/ 200 [0.16, 172.25.0.5:57532]
HTTP GET /login/ 200 [0.03, 172.25.0.5:57546]
HTTP POST /login/ 302 [1.41, 172.25.0.5:53138]
HTTP GET /two-factor-login/ 200 [0.03, 172.25.0.5:53142]
HTTP POST /two-factor-login/ 302 [0.05, 172.25.0.5:53150]
HTTP GET /login/ 200 [0.01, 172.25.0.5:53156]
HTTP POST /two-factor-login/ 302 [0.01, 172.25.0.5:55818]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.03, 172.25.0.5:55826]
HTTP GET / 200 [0.02, 172.25.0.5:35868]
HTTP GET /login/ 200 [0.03, 172.25.0.5:35872]
HTTP POST /login/ 302 [1.39, 172.25.0.5:35890]
HTTP GET /two-factor-login/ 200 [0.03, 172.25.0.5:35902]
HTTP POST /two-factor-login/ 302 [0.04, 172.25.0.5:46508]
HTTP GET / 200 [0.05, 172.25.0.5:46516]
HTTP GET /api/get_friends/ 200 [0.19, 172.25.0.5:46518]
HTTP GET /api/get_friend_requests/ 200 [0.15, 172.25.0.5:46520]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:46528]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:46542]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:46554]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:46562]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:46574]
HTTP GET /api/get_friend_requests/ 200 [0.03, 172.25.0.5:46582]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:57200]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:57210]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:57218]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:57228]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:57244]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:57260]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:57266]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:57270]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:57276]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:57290]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:57306]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:57314]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:57328]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:57342]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:57356]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:57358]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:57372]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:57378]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:57390]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:57402]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:34118]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:34122]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:34130]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:34140]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:34156]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:34168]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:34172]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:34188]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:34194]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:34204]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:34216]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:34222]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:34238]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:34246]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:34256]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:34264]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:34266]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:34272]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:34286]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:34290]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:56648]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:56660]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:56674]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:56686]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:56712]
HTTP GET /api/get_friends/ 200 [0.08, 172.25.0.5:56700]
HTTP GET /api/get_friend_requests/ 200 [0.10, 172.25.0.5:56720]
HTTP GET /api/get_friends/ 200 [0.15, 172.25.0.5:56714]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:56730]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:56734]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:56742]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:56756]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:56760]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:56762]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:56770]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:56784]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:56798]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:56814]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:56820]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:56824]
HTTP GET /api/get_friends/ 200 [0.10, 172.25.0.5:44530]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.25.0.5:44546]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.02, 172.25.0.5:44562]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f635f2851d0>>.
HTTP GET /api/get_friend_requests/ 500 [0.18, 172.25.0.5:44576]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.06, 172.25.0.5:44588]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f635f2efa10>>.
HTTP GET /api/get_friend_requests/ 500 [0.42, 172.25.0.5:44592]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.01, 172.25.0.5:44604]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f635f2d1fd0>>.
HTTP GET /api/get_friend_requests/ 500 [0.11, 172.25.0.5:44612]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.03, 172.25.0.5:44624]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f635e93cad0>>.
HTTP GET /api/get_friend_requests/ 500 [0.09, 172.25.0.5:44626]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.06, 172.25.0.5:44636]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f635e9a3590>>.
HTTP GET /api/get_friend_requests/ 500 [0.16, 172.25.0.5:44638]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.05, 172.25.0.5:44650]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f635e935d50>>.
HTTP GET / 200 [0.06, 172.25.0.5:44664]
HTTP GET /api/get_friend_requests/ 500 [0.22, 172.25.0.5:44652]
HTTP GET /register/ 200 [0.02, 172.25.0.5:44676]
HTTP POST /register/ 200 [1.45, 172.25.0.5:51746]
HTTP GET / 200 [0.02, 172.25.0.5:46762]
HTTP GET /login/ 200 [0.04, 172.25.0.5:46778]
HTTP POST /login/ 302 [1.38, 172.25.0.5:54644]
HTTP GET /two-factor-login/ 200 [0.03, 172.25.0.5:54648]
HTTP POST /two-factor-login/ 302 [0.05, 172.25.0.5:54660]
HTTP GET /login/ 200 [0.02, 172.25.0.5:54674]
HTTP GET / 200 [0.02, 172.25.0.5:54676]
HTTP GET /login/ 200 [0.03, 172.25.0.5:54692]
HTTP POST /login/ 302 [1.62, 172.25.0.5:36394]
HTTP GET /two-factor-login/ 200 [0.05, 172.25.0.5:36402]
HTTP POST /two-factor-login/ 302 [0.04, 172.25.0.5:48286]
HTTP GET / 200 [0.04, 172.25.0.5:48294]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:48322]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:48308]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:48334]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:48330]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:48338]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:48336]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:48348]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:48360]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:48362]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:48368]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:48384]
HTTP GET /api/get_friends/ 200 [0.10, 172.25.0.5:48370]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:48392]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:48394]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:48406]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:48412]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:37032]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:37026]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:37044]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:37060]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:37070]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:37084]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.25.0.5:37090]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:37088]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:37102]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:37096]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:37110]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:37112]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:37128]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:37144]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:37150]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:37152]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:37162]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:37170]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:37176]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:37190]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:52134]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:52122]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:52142]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:52148]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:52160]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:52170]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:52178]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:52190]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:52198]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:52208]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:52228]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:52222]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:52248]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:52244]
HTTP GET /api/get_friend_requests/ 200 [0.11, 172.25.0.5:52272]
HTTP GET /api/get_friends/ 200 [0.17, 172.25.0.5:52260]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:52286]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:52290]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:52300]
HTTP GET /api/get_friend_requests/ 200 [0.11, 172.25.0.5:52306]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:56178]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.25.0.5:56190]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:56194]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:56196]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:56204]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:56216]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:56226]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.25.0.5:56234]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:56240]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:56242]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:56258]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:56244]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:56278]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:56266]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.25.0.5:56284]
HTTP GET /api/get_friends/ 200 [0.11, 172.25.0.5:56280]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:56288]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:56296]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:56320]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:56304]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:55186]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:55174]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:55198]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:55202]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /api/get_friends/ 200 [0.14, 172.25.0.5:48576]
HTTP GET /api/get_friend_requests/ 200 [0.17, 172.25.0.5:48580]
HTTP GET /api/get_friends/ 200 [0.08, 172.25.0.5:48584]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.25.0.5:48586]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /api/get_friends/ 200 [0.12, 172.25.0.5:59072]
HTTP GET /api/get_friend_requests/ 200 [0.14, 172.25.0.5:59080]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:59088]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.25.0.5:59090]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:59112]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:59104]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:59136]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:59128]
HTTP GET /api/get_friend_requests/ 200 [0.10, 172.25.0.5:59152]
HTTP GET /api/get_friends/ 200 [0.13, 172.25.0.5:59138]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:59154]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:59158]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:59162]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:59176]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:59182]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:59186]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:59204]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:59202]
HTTP GET /api/get_friend_requests/ 200 [0.07, 172.25.0.5:54402]
HTTP GET /api/get_friends/ 200 [0.07, 172.25.0.5:54406]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:54420]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:54436]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:54438]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:54452]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:54464]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:54472]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.06, 172.25.0.5:54488]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fa9df5b4ed0>>.
HTTP GET /api/get_friend_requests/ 500 [0.40, 172.25.0.5:54502]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.13, 172.25.0.5:54506]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fa9de3d8f50>>.
HTTP GET /api/get_friend_requests/ 500 [0.39, 172.25.0.5:54508]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.06, 172.25.0.5:54514]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fa9df57a690>>.
HTTP GET /api/get_friend_requests/ 500 [0.16, 172.25.0.5:54520]
Method Not Allowed: /api/get_friends/
HTTP GET /api/get_friends/ 405 [0.05, 172.25.0.5:54524]
Internal Server Error: /api/get_friend_requests/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2053, in get_prep_value
    return int(value)
           ^^^^^^^^^^
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'SimpleLazyObject'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 351, in get_friend_requests
    friend_requests = Friendship.objects.filter(to_user=user, accepted=False)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/usr/local/lib/python3.11/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1480, in build_filter
    condition = self.build_lookup(lookups, col, value)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/sql/query.py", line 1307, in build_lookup
    lookup = lookup_class(lhs, rhs)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/related_lookups.py", line 166, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 2055, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7fa9df544f50>>.
HTTP GET /api/get_friend_requests/ 500 [0.09, 172.25.0.5:54526]
HTTP GET / 200 [0.04, 172.25.0.5:54532]
HTTP GET /login/ 200 [0.06, 172.25.0.5:54540]
HTTP GET /register/ 200 [0.03, 172.25.0.5:40266]
Internal Server Error: /register/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 110, in register_view
    generer_qr_code(user)
  File "/usr/src/app/hello_django/views.py", line 375, in generer_qr_code
    user.jwt_token = 'b\'' + jwt_token + '\''
                     ~~~~~~^~~~~~~~~~~
TypeError: can only concatenate str (not "bytes") to str
HTTP POST /register/ 500 [2.07, 172.25.0.5:36358]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP POST /register/ 200 [0.11, 172.25.0.5:40758]
HTTP POST /register/ 200 [1.98, 172.25.0.5:51712]
HTTP GET / 200 [0.02, 172.25.0.5:36438]
HTTP GET /login/ 200 [0.02, 172.25.0.5:36448]
HTTP POST /login/ 302 [1.52, 172.25.0.5:36464]
HTTP GET /two-factor-login/ 200 [0.04, 172.25.0.5:36472]
HTTP POST /two-factor-login/ 302 [0.06, 172.25.0.5:41766]
HTTP GET /login/ 200 [0.02, 172.25.0.5:41770]
HTTP POST /two-factor-login/ 302 [0.02, 172.25.0.5:47404]
Not Found: /accounts/login/
HTTP GET /accounts/login/?next=/two-factor-login/ 404 [0.03, 172.25.0.5:47414]
HTTP GET / 200 [0.02, 172.25.0.5:60982]
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
/usr/src/app/hello_django/views.py changed, reloading.
Watching for file changes with StatReloader
HTTP GET /register/ 200 [0.03, 172.25.0.5:40096]
HTTP POST /register/ 200 [2.44, 172.25.0.5:48590]
HTTP GET / 200 [0.03, 172.25.0.5:52992]
HTTP GET /login/ 200 [0.03, 172.25.0.5:52998]
HTTP POST /login/ 302 [1.37, 172.25.0.5:53004]
HTTP GET /two-factor-login/ 200 [0.05, 172.25.0.5:35758]
HTTP POST /two-factor-login/ 302 [0.03, 172.25.0.5:35766]
HTTP GET / 200 [0.04, 172.25.0.5:35780]
HTTP GET /api/get_friends/ 200 [0.09, 172.25.0.5:35782]
HTTP GET /api/get_friend_requests/ 200 [0.08, 172.25.0.5:35794]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:35796]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:35808]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:35810]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:35820]
HTTP GET /api/get_friend_requests/ 200 [0.04, 172.25.0.5:35838]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:35832]
HTTP GET /api/get_friends/ 200 [0.04, 172.25.0.5:35840]
HTTP GET /api/get_friend_requests/ 200 [0.05, 172.25.0.5:35850]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:35854]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:35860]
HTTP GET /api/get_friend_requests/ 200 [0.09, 172.25.0.5:35886]
HTTP GET /api/get_friends/ 200 [0.10, 172.25.0.5:35872]
HTTP GET /api/get_friends/ 200 [0.06, 172.25.0.5:35902]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:35906]
HTTP GET /api/get_friends/ 200 [0.05, 172.25.0.5:55106]
HTTP GET /api/get_friend_requests/ 200 [0.06, 172.25.0.5:55116]
Watching for file changes with StatReloader
HTTP GET / 200 [0.31, 172.26.0.5:46938]
HTTP GET /login/ 200 [0.06, 172.26.0.5:55500]
HTTP GET /register/ 200 [0.05, 172.26.0.5:55512]
HTTP POST /register/ 200 [3.45, 172.26.0.5:58240]
HTTP GET /register/ 200 [0.03, 172.26.0.5:58248]
HTTP GET / 200 [0.01, 172.26.0.5:33804]
Internal Server Error: /
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 57, in index
    return render (request, 'index.html', {'user': request.user})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/defaulttags.py", line 471, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/resolvers.py", line 828, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'qr_code' not found. 'qr_code' is not a valid view function or pattern name.
HTTP GET / 500 [0.20, 172.26.0.5:37690]
Internal Server Error: /
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 516, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 520, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/hello_django/views.py", line 57, in index
    return render (request, 'index.html', {'user': request.user})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/template/defaulttags.py", line 471, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/urls/resolvers.py", line 828, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'qr_code' not found. 'qr_code' is not a valid view function or pattern name.
HTTP GET / 500 [0.12, 172.26.0.5:37696]
